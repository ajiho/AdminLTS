/*!
 * bootstrap-admin v1.1.0 (https://gitee.com/ajiho/bootstrap-admin)
 * Copyright 2021-2022 ajiho
 * license MIT (https://gitee.com/ajiho/bootstrap-admin/blob/master/LICENSE)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BSA={})}(this,(function(e){"use strict";var t={delegate(e,t,n,o,a){e.addEventListener(t,(function(e){let t=e.target,i=e.currentTarget;for(;t!==i&&t instanceof HTMLElement;){if(t.matches(n)){o.call(t,e);break}if(t.matches(a))break;t=t.parentNode}}),!1)},siblings(e,t){t=t||!1;let n=e.parentNode.children,o=[];for(let a of n)a instanceof HTMLElement&&(t?a!==e&&a.matches(t)&&o.push(a):a!==e&&o.push(a));return o},createNode(e){let t=document.createElement("div");return t.innerHTML=e,t.children[0]},debounce(e,t=500){let n;return function(...o){n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,o)}),t)}}};t.delegate(document.body,"change",".bsa-check-all",(function(e){let t=e.target;document.querySelectorAll("input[type='checkbox']").forEach((e=>{e.checked=t.checked}))})),[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)})),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),document.querySelectorAll('form:not([action]),form[action="#"]').forEach((function(e){e.addEventListener("submit",(e=>{e.preventDefault()}))})),document.querySelectorAll("input").forEach((e=>{e.setAttribute("AutoComplete","off")}));var n,o,a={exports:{}},i={exports:{}};n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],o=0;o<e.length;o+=3)for(var a=e[o]<<16|e[o+1]<<8|e[o+2],i=0;i<4;i++)8*o+6*i<=8*e.length?t.push(n.charAt(a>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],o=0,a=0;o<e.length;a=++o%4)0!=a&&t.push((n.indexOf(e.charAt(o-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(e.charAt(o))>>>6-2*a);return t}},i.exports=o;var s={utf8:{stringToBytes:function(e){return s.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(s.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},r=s,l=function(e){return null!=e&&(c(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&c(e.slice(0,0))}(e)||!!e._isBuffer)};function c(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(){var e=i.exports,t=r.utf8,n=l,o=r.bin,s=function(a,i){a.constructor==String?a=i&&"binary"===i.encoding?o.stringToBytes(a):t.stringToBytes(a):n(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||a.constructor===Uint8Array||(a=a.toString());for(var r=e.bytesToWords(a),l=8*a.length,c=1732584193,d=-271733879,u=-1732584194,b=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var f=s._ff,m=s._gg,_=s._hh,p=s._ii;for(h=0;h<r.length;h+=16){var g=c,y=d,v=u,T=b;c=f(c,d,u,b,r[h+0],7,-680876936),b=f(b,c,d,u,r[h+1],12,-389564586),u=f(u,b,c,d,r[h+2],17,606105819),d=f(d,u,b,c,r[h+3],22,-1044525330),c=f(c,d,u,b,r[h+4],7,-176418897),b=f(b,c,d,u,r[h+5],12,1200080426),u=f(u,b,c,d,r[h+6],17,-1473231341),d=f(d,u,b,c,r[h+7],22,-45705983),c=f(c,d,u,b,r[h+8],7,1770035416),b=f(b,c,d,u,r[h+9],12,-1958414417),u=f(u,b,c,d,r[h+10],17,-42063),d=f(d,u,b,c,r[h+11],22,-1990404162),c=f(c,d,u,b,r[h+12],7,1804603682),b=f(b,c,d,u,r[h+13],12,-40341101),u=f(u,b,c,d,r[h+14],17,-1502002290),c=m(c,d=f(d,u,b,c,r[h+15],22,1236535329),u,b,r[h+1],5,-165796510),b=m(b,c,d,u,r[h+6],9,-1069501632),u=m(u,b,c,d,r[h+11],14,643717713),d=m(d,u,b,c,r[h+0],20,-373897302),c=m(c,d,u,b,r[h+5],5,-701558691),b=m(b,c,d,u,r[h+10],9,38016083),u=m(u,b,c,d,r[h+15],14,-660478335),d=m(d,u,b,c,r[h+4],20,-405537848),c=m(c,d,u,b,r[h+9],5,568446438),b=m(b,c,d,u,r[h+14],9,-1019803690),u=m(u,b,c,d,r[h+3],14,-187363961),d=m(d,u,b,c,r[h+8],20,1163531501),c=m(c,d,u,b,r[h+13],5,-1444681467),b=m(b,c,d,u,r[h+2],9,-51403784),u=m(u,b,c,d,r[h+7],14,1735328473),c=_(c,d=m(d,u,b,c,r[h+12],20,-1926607734),u,b,r[h+5],4,-378558),b=_(b,c,d,u,r[h+8],11,-2022574463),u=_(u,b,c,d,r[h+11],16,1839030562),d=_(d,u,b,c,r[h+14],23,-35309556),c=_(c,d,u,b,r[h+1],4,-1530992060),b=_(b,c,d,u,r[h+4],11,1272893353),u=_(u,b,c,d,r[h+7],16,-155497632),d=_(d,u,b,c,r[h+10],23,-1094730640),c=_(c,d,u,b,r[h+13],4,681279174),b=_(b,c,d,u,r[h+0],11,-358537222),u=_(u,b,c,d,r[h+3],16,-722521979),d=_(d,u,b,c,r[h+6],23,76029189),c=_(c,d,u,b,r[h+9],4,-640364487),b=_(b,c,d,u,r[h+12],11,-421815835),u=_(u,b,c,d,r[h+15],16,530742520),c=p(c,d=_(d,u,b,c,r[h+2],23,-995338651),u,b,r[h+0],6,-198630844),b=p(b,c,d,u,r[h+7],10,1126891415),u=p(u,b,c,d,r[h+14],15,-1416354905),d=p(d,u,b,c,r[h+5],21,-57434055),c=p(c,d,u,b,r[h+12],6,1700485571),b=p(b,c,d,u,r[h+3],10,-1894986606),u=p(u,b,c,d,r[h+10],15,-1051523),d=p(d,u,b,c,r[h+1],21,-2054922799),c=p(c,d,u,b,r[h+8],6,1873313359),b=p(b,c,d,u,r[h+15],10,-30611744),u=p(u,b,c,d,r[h+6],15,-1560198380),d=p(d,u,b,c,r[h+13],21,1309151649),c=p(c,d,u,b,r[h+4],6,-145523070),b=p(b,c,d,u,r[h+11],10,-1120210379),u=p(u,b,c,d,r[h+2],15,718787259),d=p(d,u,b,c,r[h+9],21,-343485551),c=c+g>>>0,d=d+y>>>0,u=u+v>>>0,b=b+T>>>0}return e.endian([c,d,u,b])};s._ff=function(e,t,n,o,a,i,s){var r=e+(t&n|~t&o)+(a>>>0)+s;return(r<<i|r>>>32-i)+t},s._gg=function(e,t,n,o,a,i,s){var r=e+(t&o|n&~o)+(a>>>0)+s;return(r<<i|r>>>32-i)+t},s._hh=function(e,t,n,o,a,i,s){var r=e+(t^n^o)+(a>>>0)+s;return(r<<i|r>>>32-i)+t},s._ii=function(e,t,n,o,a,i,s){var r=e+(n^(t|~o))+(a>>>0)+s;return(r<<i|r>>>32-i)+t},s._blocksize=16,s._digestsize=16,a.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var a=e.wordsToBytes(s(t,n));return n&&n.asBytes?a:n&&n.asString?o.bytesToString(a):e.bytesToHex(a)}}();const d=["h-100","d-flex","flex-column","bsa-tabs"],u="out",b="fadeIn",h="data-tab-id",f="data-tab-url",m="tabs",_="sidebarcolor",p="headercolor",g=`<button class="nav-link  border flex-shrink-0" ${f}="{{url}}"  ${h}="{{id}}" type="button">{{title}}</button>`,y=`<button class="nav-link border flex-shrink-0" ${f}="{{url}}" ${h}="{{id}}" type="button">{{title}}<i class="bi bi-x  closetab"></i></button>`,v=`<iframe src="{{url}}" class="w-100 h-100 d-inline-block  ${u}" ${h}="{{id}}"></iframe>`,T={consoleLog:!0,tabEl:".bsa-main",defaultTabs:[],tabFadein:!0,tabCache:!0,sideMenuClickClose:!1,tabActiveOpenInSideMenuLocation:!0},w={title:"",url:"",id:null,close:!0};let E=0;const L={title:"",body:"",footer:"",modalClass:"fade",modalDialogClass:"modal-dialog-centered",modalOptions:{backdrop:!0,keyboard:!0,focus:!0},btnShow:!0,btnText:"close",btnClass:"btn-secondary",buttons:[],onCreate:null,onShown:null,onDispose:null,onSubmit:null};class x{constructor(e){this._config=Object.assign({},L,e),this.id="bsa-model-"+E,E++,this.show(),this._config.onCreate&&this._config.onCreate(this)}show(){if(this.element){const e=bootstrap.Modal.getInstance(this.element);e&&e.show()}else{let e;this.createContainerElement(),this._config.modalOptions?(e=new bootstrap.Modal(this.element,this._config.modalOptions),e&&e.show()):(e=new bootstrap.Modal(this.element),e&&e.show())}if(this._config.title?(this.headerElement.style.display="",this.titleElement.innerHTML=this._config.title):this.headerElement.style.display="none",this._config.body?(this.bodyElement.style.display="",this.bodyElement.innerHTML=this._config.body):this.bodyElement.style.display="none",this._config.footer&&(this.footerElement.innerHTML=this._config.footer),this._config.buttons){let e="";this._config.buttons.some((function(t,n){e+='<button class="btn '+t.btnClass+'" data-key="'+n+'" >'+t.text+"</button>"})),this.footerElement.insertAdjacentHTML("afterbegin",e)}this._config.btnShow||(this.footerElement.querySelector("button[data-bs-dismiss=modal]").style.display="none");if(this._config.url){var e=`<iframe src="${this._config.url}"\n                    style="height: calc(100vh - 14rem);" class="w-100"\n                    ></iframe>`;this.bodyElement.innerHTML="",this.bodyElement.classList.add("p-0"),this.bodyElement.insertAdjacentHTML("afterbegin",e),this.dialogElement.classList.remove("modal-dialog-scrollable")}}createContainerElement(){const e=this;this.element=document.createElement("div"),this.element.id=this.id,this.element.setAttribute("class","modal "+this._config.modalClass),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("aria-labelledby",this.id),this.element.setAttribute("aria-hidden","true"),this.element.innerHTML=`\n                <div class="modal-dialog ${this._config.modalDialogClass}">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title" id="exampleModalLabel-${this._config.id}"></h5>\n                </div>\n                <div class="modal-body">\n                    \n                </div>\n                <div class="modal-footer justify-content-center">\n                    <button type="button" class="btn ${this._config.btnClass}" data-bs-dismiss="modal">${this._config.btnText}</button>\n                </div>\n            </div>\n        </div>\n        `,document.body.appendChild(this.element),this.dialogElement=this.element.querySelector(".modal-dialog"),this.titleElement=this.element.querySelector(".modal-title"),this.headerElement=this.element.querySelector(".modal-header"),this.bodyElement=this.element.querySelector(".modal-body"),this.footerElement=this.element.querySelector(".modal-footer"),this.element.addEventListener("hidden.bs.modal",(function(t){e.dispose()})),this.element.addEventListener("shown.bs.modal",(function(t){e._config.onShown&&e._config.onShown(e)}))}hide(){const e=bootstrap.Modal.getInstance(this.element);e&&e.hide()}dispose(){const e=bootstrap.Modal.getInstance(this.element);e&&e.dispose(),document.body.removeChild(this.element),this._config.onDispose&&this._config.onDispose(this)}}var I={show:(e,t)=>(void 0===e&&(e={}),"string"==typeof e&&(e={body:e,title:t||""}),new x(e))};e.Main=class{constructor(e){this._config=Object.assign({},T,e),this._init()}_init(){!0===this._config.consoleLog&&this._advert(),this._addEventListener(),this.restoreColor(),this._tabInit()}restoreColor(){let e=localStorage.getItem(_),t=localStorage.getItem(p);null!==e&&document.documentElement.classList.add("color-sidebar",e),null!==t&&document.documentElement.classList.add("color-header",t)}_tabInit(){this._tab_container=document.querySelector(this._config.tabEl),this._tab_container instanceof HTMLElement&&(this._tab_container.classList.add(...d),this._tab_container.insertAdjacentHTML("beforeEnd",'<ul class="nav nav-pills border flex-nowrap" role="tablist"><li class="nav-item caret-btn caret-btn-left  border-end" role="presentation"><button class="nav-link" style="width: 50px"><i class="bi bi-caret-left"></i></button></li><li class="nav-item flex-grow-1 d-flex flex-nowrap align-items-center position-relative" role="presentation"></li>\n                    <li class="nav-item caret-btn border-start dropdown" role="presentation">\n                        <button class="nav-link" style="width: 50px" data-bs-toggle="dropdown"><i class="bi bi-caret-down"></i></button>\n                        <ul class="dropdown-menu dropdown-menu-end">\n                            <li>\n                                <button class="dropdown-item rollback-current" type="button">回到当前</button>\n                            </li>\n                            <li>\n                                <button class="dropdown-item refresh-current" type="button">刷新当前</button>\n                            </li>\n                            <li>\n                                <button class="dropdown-item close-current" type="button">关闭当前</button>\n                            </li>\n                            <li>\n                                <button class="dropdown-item close-other" type="button">关闭其他</button>\n                            </li>\n                            <li>\n                                <button class="dropdown-item close-all" type="button">关闭全部</button>\n                            </li>\n                        </ul>\n                    </li>\n<li class="nav-item caret-btn caret-btn-right  border-start" role="presentation"><button class="nav-link" style="width: 50px"><i class="bi bi-caret-right"></i></button></li></ul><div class="flex-grow-1 position-relative"></div>'),this._tab_wraper=this._tab_container.querySelector("li.flex-grow-1"),this._tab_content_wraper=this._tab_container.querySelector("div.flex-grow-1"),this._buildContextmenu(),this._addTabEventListener(),this._restoreTabs())}_restoreTabs(){if(this._isOpenCacheTab()){0!==this._getCacheTabs().length?this._echoCacheAllTabs():this._config.defaultTabs.forEach((e=>{this.addTab(e)}))}else this._clearCacheTabsAll(),this._config.defaultTabs.forEach((e=>{this.addTab(e)}))}_echoCacheAllTabs(){let e=document.createDocumentFragment();this._getCacheTabs().forEach((n=>{let o=n.close?this._formatString(y,n):this._formatString(g,n);e.appendChild(t.createNode(o))})),this._tab_wraper.appendChild(e);let n=this._getActivatedCacheTabId();this.activeTabById(n),this._openLeftMenuByid(n),this.scrollToTabById(n)}clearCache(){localStorage.removeItem(m),localStorage.removeItem(p),localStorage.removeItem(_)}_isOpenCacheTab(){return!0===this._config.tabCache}_getCacheTabs(){let e=JSON.parse(localStorage.getItem(m));return null===e&&(e=[]),e}_clearCacheTabsAll(){localStorage.removeItem(m)}_buildContextmenu(){document.body.insertAdjacentHTML("beforeEnd",'\n            <div class="list-group bsa-contextmenu shadow-sm">\n                <button type="button" class="list-group-item list-group-item-action refresh">刷新</button>\n                <button type="button" class="list-group-item list-group-item-action close">关闭</button>\n                <button type="button" class="list-group-item list-group-item-action close-other">关闭其它</button>\n            </div>'),this._contextmenu_wraper=document.querySelector(".bsa-contextmenu")}_openLeftMenuByid(e){if(!0===this._config.tabActiveOpenInSideMenuLocation){let t=e;document.querySelectorAll(".bsa-sidebar-body > ul a").forEach((e=>{e.classList.remove("open","active")})),document.querySelectorAll(".bsa-sidebar-body > ul a").forEach((e=>{a.exports(e.getAttribute("href"))===t&&(e.classList.add("active"),this._openMenu(e),document.querySelector(".bsa-sidebar-body").scrollTo({top:e.offsetTop,behavior:"auto"}))}))}}_addTabEventListener(){let e=this;t.delegate(document.body,"click","[data-bsa-tab-url][data-bsa-tab-title]",(function(t){t.preventDefault();let n=this.getAttribute("data-bsa-tab-url"),o=this.getAttribute("data-bsa-tab-title");e.addTab({title:o,url:n,close:!0})})),t.delegate(document.body,"click",".bsa-sidebar-body > ul a:not(.has-children):not([target])",(function(t){t.preventDefault();let n=this.getAttribute("href"),o=this.innerText;e.addTab({title:o,url:n,close:!0}),!0===e._config.sideMenuClickClose&&screen.availWidth<992&&e.closeSideMenu()})),t.delegate(e._tab_wraper,"click","button.nav-link",(function(){let t=this.getAttribute(h);e.scrollToTabById(t),e.activeTabById(t),e._openLeftMenuByid(t)}),".closetab"),t.delegate(e._tab_wraper,"click",".closetab",(function(){e.closeTabById(this.parentNode.getAttribute(h))})),t.delegate(e._tab_wraper,"contextmenu","button.nav-link",(function(t){t.preventDefault();let n=this.getAttribute(h);e._canRemoveTabById(n)?e._contextmenu_wraper.querySelector(".close").style.display="block":e._contextmenu_wraper.querySelector(".close").style.display="none",e._contextmenu_wraper.style.top=`${t.clientY}px`,e._contextmenu_wraper.style.left=`${t.clientX}px`,e._contextmenu_wraper.style.display="block",e._tab_container.classList.add("pen"),bootstrap.Dropdown.getOrCreateInstance(e._tab_container.querySelector("ul>li.dropdown>button")).hide(),e._contextmenu_wraper.querySelectorAll("button.list-group-item").forEach((function(e){e.setAttribute(h,n)}))}),".closetab"),document.addEventListener("click",(function(){e._closeTabsContextmenu()})),window.addEventListener("resize",t.debounce((function(){e._closeTabsContextmenu()}),60));const n=e._tab_container.querySelector("ul>li.dropdown>button");n.addEventListener("show.bs.dropdown",(t=>{e._tab_container.classList.add("pen2")})),n.addEventListener("hide.bs.dropdown",(t=>{e._tab_container.classList.remove("pen2")})),t.delegate(e._contextmenu_wraper,"click",".refresh",(function(t){t.preventDefault(),e._contextmenuRefresh(this)})),t.delegate(e._contextmenu_wraper,"contextmenu",".refresh",(function(t){t.preventDefault(),e._contextmenuRefresh(this)})),t.delegate(e._contextmenu_wraper,"click",".close",(function(t){t.preventDefault(),e._contextmenuClose(this)})),t.delegate(e._contextmenu_wraper,"contextmenu",".close",(function(t){t.preventDefault(),e._contextmenuClose(this)})),t.delegate(e._contextmenu_wraper,"click",".close-other",(function(t){t.preventDefault(),e._contextmenuCloseOther(this)})),t.delegate(e._contextmenu_wraper,"contextmenu",".close-other",(function(t){t.preventDefault(),e._contextmenuCloseOther(this)})),t.delegate(e._tab_container,"click",".caret-btn-left",(function(){e._tab_wraper.scrollLeft=e._tab_wraper.scrollLeft-e._tab_wraper.offsetWidth})),t.delegate(e._tab_container,"click",".caret-btn-right",(function(){e._tab_wraper.scrollLeft=e._tab_wraper.scrollLeft+e._tab_wraper.offsetWidth})),t.delegate(e._tab_container,"click",".rollback-current",(function(){e.scrollToTabById(e.getActivatedTabId())})),t.delegate(e._tab_container,"click",".refresh-current",(function(){e._refreshTabById(e.getActivatedTabId())})),t.delegate(e._tab_container,"click",".close-current",(function(){let t=e.getActivatedTabId();e._canRemoveTabById(t)&&e.closeTabById(t)})),t.delegate(e._tab_container,"click",".close-other",(function(){e._closeAllTabExceptForId(e.getActivatedTabId())})),t.delegate(e._tab_container,"click",".close-all",(function(){e.closeAllTabs()}))}_contextmenuRefresh(e){this._refreshTabById(e.getAttribute(h)),this._closeTabsContextmenu()}_contextmenuClose(e){this.closeTabById(e.getAttribute(h)),this._closeTabsContextmenu()}_contextmenuCloseOther(e){this._closeAllTabExceptForId(e.getAttribute(h)),this._closeTabsContextmenu()}closeAllTabs(){this._tab_wraper.querySelectorAll("button.nav-link").forEach((e=>{let t=e.getAttribute(h);this._canRemoveTabById(t)&&this._removeTabById(t)}));let e=this._tab_wraper.firstChild;e instanceof HTMLElement&&this.activeTabById(e.getAttribute(h))}_closeAllTabExceptForId(e){this._tab_wraper.querySelectorAll("button.nav-link").forEach((t=>{let n=t.getAttribute(h);n!==e&&this._canRemoveTabById(n)&&this._removeTabById(n)}))}_removeTabById(e){let t=this.findTabById(e),n=this.findIframeById(e);t.remove(),this._removeCacheTabById(e),n instanceof HTMLElement&&n.remove()}_refreshTabById(e){let t=this.findIframeById(e);if(t instanceof HTMLElement)!0===this._config.tabFadein?(t.classList.remove("fadeIn"),t.offsetWidth,t.contentWindow.location.reload(),t.classList.add("fadeIn")):t.contentWindow.location.reload();else{let t=this.findTabById(e);this._addIframeByTab(t)}}_closeTabsContextmenu(){this._contextmenu_wraper.style.display="none",this._tab_container.classList.remove("pen")}_canRemoveTabById(e){let t=!1;return this.findTabById(e).querySelector(".bi-x")instanceof HTMLElement&&(t=!0),t}_removeCacheTabById(e){let t=this._getCacheTabs();t.forEach(((n,o)=>{n.id===e&&t.splice(o,1)})),localStorage.setItem(m,JSON.stringify(t))}closeTabById(e){let t=this.findTabById(e);if(t.classList.contains("active")){let n=null;t.nextElementSibling instanceof HTMLElement?n=t.nextElementSibling.getAttribute(h):t.previousElementSibling instanceof HTMLElement&&(n=t.previousElementSibling.getAttribute(h)),this._removeTabById(e),n&&this.activeTabById(n)}else this._removeTabById(e)}addTab(e){if(this._tab_container instanceof HTMLElement){if((e=Object.assign({},w,e)).id=a.exports(e.url),null===this.findTabById(e.id)){let n=e.close?this._formatString(y,e):this._formatString(g,e);this._tab_wraper.insertAdjacentHTML("beforeEnd",n);let o=this._formatString(v,e),a=t.createNode(o);!0===this._config.tabFadein&&a.classList.add(b),this._tab_content_wraper.appendChild(a),this._isOpenCacheTab()&&this._addTabToCache(e)}this.scrollToTabById(e.id),this.activeTabById(e.id)}}_activeCacheTabById(e){let t=this._getCacheTabs();t.forEach((t=>{t.active=t.id===e})),localStorage.setItem(m,JSON.stringify(t))}_addTabToCache(e){let t=this._getCacheTabs();e.active=!1,t.push(e),localStorage.setItem(m,JSON.stringify(t))}getActivatedTabId(){let e=null;return this._tab_wraper.querySelectorAll("button.nav-link").forEach((t=>{t.classList.contains("active")&&(e=t.getAttribute(h))})),e}_getActivatedCacheTabId(){let e=null;return this._getCacheTabs().forEach((t=>{t.hasOwnProperty("active")&&!0===t.active&&(e=t.id)})),e}getActivatedTab(){let e=null;return this._tab_wraper.querySelectorAll("button.nav-link").forEach((t=>{t.classList.contains("active")&&(e=t)})),e}_addIframeByTab(e){let n={id:e.getAttribute(h),url:e.getAttribute(f)},o=this._formatString(v,n),a=t.createNode(o);!0===this._config.tabFadein&&a.classList.add(b),this._tab_content_wraper.appendChild(a)}activeTabById(e){this._isOpenCacheTab()&&this._activeCacheTabById(e),this._tab_wraper.querySelectorAll("button.nav-link").forEach((function(e){e.classList.remove("active")})),this._tab_content_wraper.querySelectorAll("iframe").forEach((function(e){e.classList.add(u)}));let t=this.findTabById(e);t.classList.add("active"),this.findIframeById(e)instanceof HTMLElement||this._addIframeByTab(t),this.findIframeById(e).classList.remove(u)}_openMenu(e){let n=e.parentNode.parentNode,o=t.siblings(n,"a.has-children")[0];if(o instanceof HTMLElement)return o.classList.add("open"),this._openMenu(o)}scrollToTabById(e){let t=this.findTabById(e);this._tab_wraper.scrollLeft=t.offsetLeft-this._tab_wraper.offsetWidth/2+t.offsetWidth/2,this._closeTabsContextmenu()}findIframeById(e){let t=null;return this._tab_content_wraper.querySelectorAll("iframe").forEach((n=>{n.getAttribute(h)===e&&(t=n)})),t}findTabById(e){let t=null;return this._tab_wraper.querySelectorAll("button.nav-link").forEach((n=>{n.getAttribute(h)===e&&(t=n)})),t}_formatString(e,t){return e.replace(/{{(\w+)}}/g,(function(e,n){return t[n]}))}_addEventListener(){let e=this;t.delegate(document.body,"click",".bsa-clear-cache",(function(t){t.preventDefault(),e.clearCache()})),t.delegate(document.body,"transitionend",".bsa-sidebar-body > ul",(function(e){let t=e.target;t.matches("ul")&&t.removeAttribute("style")})),t.delegate(document.body,"click",".bsa-sidebar-body > ul a.has-children",(function(n){n.preventDefault();let o=this;o.classList.contains("open")?(e._menuToggle(o,0),o.classList.remove("open")):(o.classList.add("open"),e._menuToggle(o,1)),t.siblings(o.parentNode).forEach((t=>{let n=t.querySelector("a.has-children.open");n instanceof HTMLElement&&(e._menuToggle(n,0),n.classList.remove("open"));let o=t.querySelector("a.active");o instanceof HTMLElement&&o.classList.remove("active")}))})),t.delegate(document.body,"click","div[class^=sidebarcolor]",(function(e){e.preventDefault();let t=this.getAttribute("class"),n=[];for(let e=0;e<8;e++)n.push(`sidebarcolor${e+1}`);"sidebarcolor0"===t?(localStorage.removeItem(_),document.documentElement.classList.remove("color-sidebar"),n.map((function(e){document.documentElement.classList.remove(e)}))):(localStorage.setItem(_,t),document.documentElement.classList.add("color-sidebar",t),n.splice(n.indexOf(t),1),document.documentElement.classList.remove(...n))})),t.delegate(document.body,"click","div[class^=headercolor]",(function(e){e.preventDefault();let t=this.getAttribute("class"),n=[];for(let e=0;e<8;e++)n.push(`headercolor${e+1}`);"headercolor0"===t?(localStorage.removeItem(p),document.documentElement.classList.remove("color-header"),n.map((function(e){document.documentElement.classList.remove(e)}))):(localStorage.setItem(p,t),document.documentElement.classList.add("color-header",t),n.splice(n.indexOf(t),1),document.documentElement.classList.remove(...n))})),t.delegate(document.body,"click",".bsa-search-close-btn",(function(e){e.preventDefault(),document.querySelector(".bsa-search-form-wrapper").classList.remove("open")})),t.delegate(document.body,"click",".bsa-search-form-toggler",(function(e){e.preventDefault(),document.querySelector(".bsa-search-form-wrapper").classList.add("open")})),t.delegate(document.body,"click",".bsa-sidebar-toggler",(function(e){e.preventDefault(),document.querySelector(".bsa-sidebar").classList.add("open"),document.body.insertAdjacentHTML("beforeEnd",'<div class="bsa-mask"></div>')})),t.delegate(document.body,"click",".bsa-mask",(function(t){t.preventDefault(),e.closeSideMenu()}))}closeSideMenu(){document.querySelector(".bsa-mask").remove(),document.querySelector(".bsa-sidebar").classList.remove("open")}_menuToggle(e,t){let n=e.nextElementSibling,o=n.scrollHeight+"px";1===t?(n.style.cssText="display:block;height:0;overflow: hidden;",e.scrollHeight,n.style.cssText=`display:block;height:${o};overflow: hidden;`):0===t&&(n.style.cssText=`display:block;height:${o};overflow: hidden;`,e.scrollHeight,n.style.cssText="display:block;height:0;overflow: hidden;")}_advert(){console.log("\n   ___  _______ \n  / _ )/ __/ _ |\n / _  |\\ \\/ __ |\n/____/___/_/ |_|\n\n作者:ajiho\n描述:基于bootstrap5.x设计的一个纯静态开源免费的响应式后台管理HTML模板，旨在快速让喜欢用bootstrap开发后台的程序员有个轻松愉悦的起点。\n无论您是用于项目开发、学习、还是教学演示、希望能给个star，这将会是我最大的动力!\nGitee开源地址:https://gitee.com/ajiho/bootstrap-admin\n")}},e.Modal=I,e.Toast=class{constructor(e,t){this._config=t,this._element=e}run(){console.log("Toast-run")}}}));
//# sourceMappingURL=bootstrap-admin.min.js.map
