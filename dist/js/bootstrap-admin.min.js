/*!
 * bootstrap-admin v1.1.0 (https://gitee.com/ajiho/bootstrap-admin)
 * Copyright 2021-2023 ajiho
 * license MIT (https://gitee.com/ajiho/bootstrap-admin/blob/2.x/LICENSE)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("smooth-scrollbar"),require("bootstrap-quicktab"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","smooth-scrollbar","bootstrap-quicktab","jquery"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BootstrapAdmin={},e.Scrollbar,e.Quicktab,e.jQuery)}(this,(function(e,t,n,a){"use strict";const s="Layout",o="bsa.layout",i="theme",r=".qtab",l=a.fn[s],c=".bsa-show_hide_password span",d={scrollbarAutoHide:!0,preloadDuration:800,tabPageEnableTheme:!0,themeCacheType:"localStorage"};class u{constructor(e,t){this._config=t,this._element=e}fullscreen(){0!==a(".bsa-header").length&&document.documentElement.requestFullscreen()}exitFullscreen(){0!==a(".bsa-header").length&&null!==document.fullscreenElement&&document.exitFullscreen()}getTheme(){let e="";return"localStorage"===this._config.themeCacheType?e=localStorage.getItem(i):"sessionStorage"===this._config.themeCacheType&&(e=sessionStorage.getItem(i)),e}_init(){let e=this;if(a('[data-bs-toggle="tooltip"]').each((function(e,t){new bootstrap.Tooltip(t)})),a('[data-bs-toggle="popover"]').each((function(e,t){new bootstrap.Popover(t)})),a("input").each((function(e,t){a(t).attr("AutoComplete","off")})),a(document).on("submit",'form[action="#"]',(function(e){e.preventDefault()})),!0===e._config.scrollbarAutoHide){let e="\n                  [data-scrollbar] .scrollbar-track {\n                        visibility: hidden;\n                    }\n            \n                    @keyframes fadeIn {\n                        from {\n                            opacity: 0;\n                        }\n            \n                        to {\n                            opacity: 1;\n                        }\n                    }\n            \n            \n                    [data-scrollbar]:hover .scrollbar-track {\n                        visibility: unset;\n                        animation: fadeIn 3s !important;\n                    }\n            ",t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}0!==a(c).length&&a(c).on("click",(function(e){e.preventDefault();let t=a(".bsa-show_hide_password input"),n=a(".bsa-show_hide_password i");"text"===t.attr("type")?(t.attr("type","password"),n.removeClass("bi-eye"),n.addClass("bi-eye-slash")):"password"===t.attr("type")&&(t.attr("type","text"),n.addClass("bi-eye"),n.removeClass("bi-eye-slash"))})),0!==a(".bsa-sidebar-body").length&&t.init(document.querySelector(".bsa-sidebar-body")),0!==a(".bsa-header").length&&(a(".bsa-header .card-body").each((function(e,n){t.init(n)})),a(document).on("fullscreenchange",(function(){null==document.fullscreenElement?a(".bsa-fullscreen-toggler").find("i.bi").removeClass("bi-fullscreen-exit").addClass("bi-arrows-fullscreen"):a(".bsa-fullscreen-toggler").find("i.bi").removeClass("bi-arrows-fullscreen").addClass("bi-fullscreen-exit")})),a(".bsa-fullscreen-toggler").on("click",(function(){a(this).find(".bi-arrows-fullscreen").length>0?document.documentElement.requestFullscreen():document.exitFullscreen()})),a(document).on("click","div[class^=bsa-theme-color]",(function(t){t.preventDefault();let s=Array.from(this.classList).at(-1);"localStorage"===e._config.themeCacheType?localStorage.setItem(i,String(s)):"sessionStorage"===e._config.themeCacheType&&sessionStorage.setItem(i,String(s)),a("html").attr("data-bs-theme",s),0!==a(r).length&&!0===e._config.tabPageEnableTheme&&n.get(r).setTab((function(e){for(let t of e)if(null!==t.tabIFrame.el&&!0===t.tabIFrame.canAccess){let e=a(t.tabIFrame.el.contentDocument);e.find("html").attr("data-bs-theme",s),e.find("iframe").each((function(e,t){if(n.canAccessIFrame(t)){a(t.contentDocument).find("html").attr("data-bs-theme",s)}}))}}))}))),0!==a(r).length&&new n({selector:r,minHeight:"",height:"100%",width:"",cache:"sessionStorage",tabs:[],toolbar:{refresh:{enable:!0},fullscreen:{enable:!0,fullscreen:function(){a(".bsa-content").addClass("fullscreen")},exitFullscreen:function(){a(".bsa-content").removeClass("fullscreen")}}},tabConfig:{dragSort:!0,clickRollback:!0,contextmenu:{enable:!0}},onInit:function(t){a(".bsa-menu a").each((function(s,o){if(a(o).attr("href")===n.getTabUrl(t.target.getActiveTab()))return e._scrollToA(o),!1}))},onTabClick:function(t){let n=a(".bsa-menu a");n.each((function(s,o){if(a(o).attr("href")===t.tabUrl)return n.each((function(e,t){a(t).removeClass("open active")})),e._scrollToA(o),!1}))},onTabLoaded:function(t){let n=localStorage.getItem("theme");a("html").attr("data-bs-theme",n),!0===e._config.tabPageEnableTheme&&null!==t.tabIFrame.el&&!0===t.tabIFrame.canAccess&&a(t.tabIFrame.el.contentDocument).find("html").attr("data-bs-theme",n)}}),setTimeout((()=>{a(".bsa-preloader").fadeOut(e._config.preloadDuration)}),this._config.preloadDuration)}_openMenu(e){let t=a(e).parent().parent().siblings(e);if(t.length>0)return t.addClass("open"),this._openMenu(t)}_scrollToA(e){let n=a(e);n.addClass("active"),this._openMenu(e),t.get(document.querySelector(".bsa-sidebar-body")).update(),t.get(document.querySelector(".bsa-sidebar-body")).scrollTo(0,n.position().top,500)}static _jQueryInterface(e){for(const t of this){let n=a(t),s=n.data(o);const i=a.extend({},d,"object"==typeof e?e:n.data());if(s||(s=new u(n,i),n.data(o,s),s._init()),"string"==typeof e){if(void 0===s[e])throw new TypeError(`方法 "${e}" 不存在`);let t=s[e]();if(void 0!==t)return t}}return this}}a(window).on("load",(()=>{u._jQueryInterface.call(a("body"))})),a.fn[s]=u._jQueryInterface,a.fn[s].Constructor=u,a.fn[s].noConflict=function(){return a.fn[s]=l,u._jQueryInterface};const h="NavbarSearch",f="bsa.navbar-search",b=a.fn[h],m="open",g={closeReset:!1,trigger:".bsa-search-form-toggler",action:"",params:""};class p{constructor(e,t){this._element=e,this._config=t,this._$input=this._element.find("input.bsa-input-search")}open(){this._element.addClass(m)}close(){this._element.removeClass(m),!0===this._config.closeReset&&this._$input.val("")}toggle(){this._element.hasClass(m)?this.close():this.open()}_triggerSearch(e){const t=a.Event("search.bsa.navbar-search");a(this._element).trigger(t,[this._config,e])}_init(){let e=this;e._$input.on("keydown",(function(t){if(13===t.keyCode){t.preventDefault();let n=a.trim(e._$input.val());""!==n&&e._triggerSearch(n)}})),a(document).on("click",".bsa-search-submit-btn",(function(t){t.preventDefault();let n=a.trim(e._$input.val());""!==n&&e._triggerSearch(n)})),a(document).on("click",".bsa-search-close-btn",(function(t){t.preventDefault(),e.close()})),a(document).on("click",e._config.trigger,(function(t){t.preventDefault(),e.open()}))}static _jQueryInterface(e){return this.each((function(){let t=a(this).data(f);const n=a.extend({},g,"object"==typeof e?e:a(this).data());if(t)if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}else void 0===e&&t._init();else t=new p(a(this),n),a(this).data(f,t),t._init()}))}}0!==a(".bsa-header").length&&a(window).on("load",(()=>{p._jQueryInterface.call(a('[data-bsa-toggle="navbar-search"]'))})),a.fn[h]=p._jQueryInterface,a.fn[h].Constructor=p,a.fn[h].noConflict=function(){return a.fn[h]=b,p._jQueryInterface};const _="Toasts",y=a.fn[_],v={body:"",animation:!0,autohide:!0,btnClose:!0,btnCloseWhite:!1,className:"",delay:5e3,gap:16,margin:"1rem",position:"topRight"};class C{constructor(e,t){this._config=t,this._bootstrapToast=null,this._prepareContainer(),a("body").trigger(a.Event("init.bsa.toasts"))}show(){this._bootstrapToast.show()}hide(){this._bootstrapToast.hide()}_prepareContainer(){let e=a('\n              <div style="z-index: 1081" class="toast position-fixed bottom-0 end-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="toast-header">\n                  <img src="dist/img/user.png" style="height: 25px" class="rounded me-2" alt="...">\n                  <i class="bi bi-bell"></i>  \n                  <strong class="me-auto">Bootstrap</strong>\n                  <small>11 mins ago</small>\n                  <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>\n                </div>\n                <div class="toast-body">\n                  Hello, world! This is a toast message.\n                </div>\n              </div>\n        ');a("body").append(e),this._bootstrapToast=new bootstrap.Toast(e[0],{animation:this._config.animation,autohide:this._config.autohide,delay:this._config.delay})}static _jQueryInterface(e,t){return this.each((function(){const n=a.extend({},v,t),s=new C(a(this),n);"show"===e&&s[e]()}))}}a.fn[_]=C._jQueryInterface,a.fn[_].Constructor=C,a.fn[_].noConflict=function(){return a.fn[_]=y,C._jQueryInterface};const w="PushMenu",T="bsa.pushmenu",I=`.${T}`,S=a.fn[w],x=`collapse${I}`,j=`collapsed${I}`,k=`expand${I}`,Q=`expanded${I}`,E='[data-bsa-toggle="pushmenu"]',$=".bsa-sidebar",D=".bsa-mask",q="open",A={animationSpeed:300};class F{constructor(e,t){this._element=e,this._options=t,this._addTransition()}expand(){a(this._element).trigger(a.Event(k)),a(".bsa-sidebar").addClass(q),a($).data("isOpen",!0),this._addOverlay()}collapse(){a(this._element).trigger(a.Event(x)),a($).removeClass(q),a($).data("isOpen",!1),a(D).remove()}toggle(){a($).hasClass(q)?this.collapse():this.expand()}_addTransition(){a($).css({transition:`${this._options.animationSpeed}ms transform`})}_addOverlay(){0===a(D).length&&a('<div class="bsa-mask"></div>').prependTo("body")}_init(){let e=this;a(document).on("click",D,(function(t){t.preventDefault(),e.collapse()})),a(document).on("transitionend",$,(function(t){if(t.target===t.currentTarget){const n=a.Event(Q),s=a.Event(j);a(t.target).data("isOpen")?a(e._element).trigger(n):a(e._element).trigger(s)}})),a(document).on("click",E,(t=>{t.preventDefault(),e.toggle()}))}static _jQueryInterface(e){return this.each((function(){let t=a(this).data(T);const n=a.extend({},A,"object"==typeof e?e:a(this).data());if(t)if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}else void 0===e&&t._init();else t=new F(a(this),n),a(this).data(T,t),t._init()}))}}0!==a(".bsa-header").length&&a(window).on("load",(()=>{F._jQueryInterface.call(a(E))})),a.fn[w]=F._jQueryInterface,a.fn[w].Constructor=F,a.fn[w].noConflict=function(){return a.fn[w]=S,F._jQueryInterface};const O="Sidebar",H="bsa.sidebar",N=`.${H}`,P=a.fn[O],M=`expanded${N}`,L=`collapsed${N}`,R={animationSpeed:150,accordion:!0};class B{constructor(e,t){this._config=t,this._element=e}expand(e){let t=e.siblings("ul");t.data("isOpen",!0),t.css({transition:`height ${this._config.animationSpeed}ms linear`}),t.css({height:0}),t.prop("scrollHeight"),t.css({height:t.prop("scrollHeight")})}collapse(e){let t=e.siblings("ul");t.data("isOpen",!1),t.css({transition:`height ${this._config.animationSpeed}ms linear`}),t.css({height:t.prop("scrollHeight")}),t.prop("scrollHeight"),t.css({height:0,display:"block"})}_init(){let e=this;a(document).on("transitionend",".bsa-menu ul",(function(t){if(t.target===t.currentTarget){const n=a.Event(M),s=a.Event(L);a(t.target).removeAttr("style"),a(t.target).data("isOpen")?a(e._element).trigger(n):a(e._element).trigger(s)}})),a(document).on("click",".bsa-menu a.has-children:not([target])",(function(t){t.preventDefault();let n=a(this);if(e._config.accordion){let t=n.parent().siblings("li"),a=t.children("a.has-children.open");e.collapse(a),a.removeClass("open"),t.children("a.active").removeClass("active")}n.hasClass("open")?(e.collapse(n),n.removeClass("open")):(n.addClass("open"),e.expand(n))})),a(document).on("click",".bsa-menu a:not(.has-children):not([target])",(function(e){e.preventDefault();let t=a(this);a(".bsa-menu a").each((function(e,t){a(t).removeClass("active")})),t.addClass("active"),n.get(".qtab").addTab({title:this.innerText,url:this.getAttribute("href"),close:!0})}))}static _jQueryInterface(e){return this.each((function(){let t=a(this).data(H);const n=a.extend({},R,"object"==typeof e?e:a(this).data());if(t)if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}else void 0===e&&t._init();else t=new B(a(this),n),a(this).data(H,t),t._init()}))}}0!==a(".bsa-sidebar").length&&a(window).on("load",(()=>{a('[data-bsa-toggle="sidebar"]').each((function(){B._jQueryInterface.call(a(this),"init")}))})),a.fn[O]=B._jQueryInterface,a.fn[O].Constructor=B,a.fn[O].noConflict=function(){return a.fn[O]=P,B._jQueryInterface},e.Layout=u,e.NavbarSearch=p,e.PushMenu=F,e.Sidebar=B,e.Toasts=C}));
//# sourceMappingURL=bootstrap-admin.min.js.map
