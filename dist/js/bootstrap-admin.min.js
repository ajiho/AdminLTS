/*!
 * bootstrap-admin v1.1.0 (https://gitee.com/ajiho/bootstrap-admin)
 * Copyright 2021-2023 ajiho
 * license MIT (https://gitee.com/ajiho/bootstrap-admin/blob/2.x/LICENSE)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("bootstrap-quicktab")):"function"==typeof define&&define.amd?define(["exports","jquery","bootstrap-quicktab"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BootstrapAdmin={},e.jQuery,e.Quicktab)}(this,(function(e,t,n){"use strict";var a={isIndex:()=>0!==t(".bsa-header").length&&0!==t(".bsa-sidebar").length};const o="Layout",s="bsa.layout",i="theme",r=".qtab",l=t.fn[o],c=".bsa-show_hide_password span",d={scrollbarAutoHide:"leave",scrollbarAutoHideDelay:1300,preloadDuration:800,tabPageEnableTheme:!0,themeCacheType:"localStorage"};let u=null,h=null;class f{constructor(e,t){this._config=t,this._element=e}fullscreen(){0!==t(".bsa-header").length&&document.documentElement.requestFullscreen()}exitFullscreen(){0!==t(".bsa-header").length&&null!==document.fullscreenElement&&document.exitFullscreen()}getTheme(){let e="";return"localStorage"===this._config.themeCacheType?e=localStorage.getItem(i):"sessionStorage"===this._config.themeCacheType&&(e=sessionStorage.getItem(i)),e}_init(){this._common(),a.isIndex()&&this._index()}_common(){t('[data-bs-toggle="tooltip"]').each((function(e,t){new bootstrap.Tooltip(t)})),t('[data-bs-toggle="popover"]').each((function(e,t){new bootstrap.Popover(t)})),t("input").each((function(e,n){t(n).attr("AutoComplete","off")})),t(document).on("submit",'form[action="#"]',(function(e){e.preventDefault()})),0!==t(c).length&&t(c).on("click",(function(e){e.preventDefault();let n=t(".bsa-show_hide_password input"),a=t(".bsa-show_hide_password i");"text"===n.attr("type")?(n.attr("type","password"),a.removeClass("bi-eye"),a.addClass("bi-eye-slash")):"password"===n.attr("type")&&(n.attr("type","text"),a.addClass("bi-eye"),a.removeClass("bi-eye-slash"))}))}_index(){let e=this;"undefined"!=typeof OverlayScrollbarsGlobal&&(u=OverlayScrollbarsGlobal.OverlayScrollbars,u.plugin([OverlayScrollbarsGlobal.ScrollbarsHidingPlugin,OverlayScrollbarsGlobal.SizeObserverPlugin,OverlayScrollbarsGlobal.ClickScrollPlugin])),h=u(document.querySelector(".bsa-sidebar-body"),{overflow:{x:"hidden",y:"scroll"},scrollbars:{autoHide:e._config.scrollbarAutoHide,clickScroll:!0,autoHideDelay:e._config.scrollbarAutoHideDelay}}),t(".bsa-header .card-body").each((function(e,t){u(t,{overflow:{x:"hidden",y:"scroll"},scrollbars:{autoHide:"leave",clickScroll:!0,autoHideDelay:1300}})})),t(document).on("fullscreenchange",(function(){null==document.fullscreenElement?t(".bsa-fullscreen-toggler").find("i.bi").removeClass("bi-fullscreen-exit").addClass("bi-arrows-fullscreen"):t(".bsa-fullscreen-toggler").find("i.bi").removeClass("bi-arrows-fullscreen").addClass("bi-fullscreen-exit")})),t(".bsa-fullscreen-toggler").on("click",(function(){t(this).find(".bi-arrows-fullscreen").length>0?document.documentElement.requestFullscreen():document.exitFullscreen()})),t(document).on("click","div[class^=bsa-theme-color]",(function(a){a.preventDefault();let o=Array.from(this.classList).at(-1);"localStorage"===e._config.themeCacheType?localStorage.setItem(i,String(o)):"sessionStorage"===e._config.themeCacheType&&sessionStorage.setItem(i,String(o)),t("html").attr("data-bs-theme",o),0!==t(r).length&&!0===e._config.tabPageEnableTheme&&n.get(r).setTab((function(e){for(let a of e)if(null!==a.tabIFrame.el&&!0===a.tabIFrame.canAccess){let e=t(a.tabIFrame.el.contentDocument);e.find("html").attr("data-bs-theme",o),e.find("iframe").each((function(e,a){if(n.canAccessIFrame(a)){t(a.contentDocument).find("html").attr("data-bs-theme",o)}}))}}))})),0!==t(r).length&&void 0!==n&&new n({selector:r,minHeight:"",height:"100%",width:"",cache:"sessionStorage",tabs:[],toolbar:{refresh:{enable:!0},fullscreen:{enable:!0,fullscreen:function(){t(".bsa-content").addClass("fullscreen")},exitFullscreen:function(){t(".bsa-content").removeClass("fullscreen")}}},tabConfig:{dragSort:!0,clickRollback:!0,contextmenu:{enable:!0}},onInit:function(a){t(".bsa-menu a").each((function(o,s){if(t(s).attr("href")===n.getTabUrl(a.target.getActiveTab()))return e._scrollToA(s),!1}))},onTabClick:function(n){let a=t(".bsa-menu a");a.each((function(o,s){if(t(s).attr("href")===n.tabUrl)return a.each((function(e,n){t(n).removeClass("open active")})),t(".bsa-menu ul").each((function(e,n){t(n).removeAttr("style")})),e._scrollToA(s),!1}))},onTabLoaded:function(n){let a=localStorage.getItem("theme");t("html").attr("data-bs-theme",a),!0===e._config.tabPageEnableTheme&&null!==n.tabIFrame.el&&!0===n.tabIFrame.canAccess&&t(n.tabIFrame.el.contentDocument).find("html").attr("data-bs-theme",a)}}),setTimeout((()=>{t(".bsa-preloader").fadeOut(e._config.preloadDuration)}),this._config.preloadDuration)}_openMenu(e){let n=t(e).parent().parent().siblings(e);if(n.length>0)return n.addClass("open"),this._openMenu(n)}_scrollToA(e){let n=t(e);n.addClass("active"),this._openMenu(e),h.elements().viewport.scrollTo({top:n.position().top})}static _jQueryInterface(e){for(const n of this){let a=t(n),o=a.data(s);const i=t.extend({},d,"object"==typeof e?e:a.data());if(o||(o=new f(a,i),a.data(s,o),o._init()),"string"==typeof e){if(void 0===o[e])throw new TypeError(`方法 "${e}" 不存在`);let t=o[e]();if(void 0!==t)return t}}return this}}t(window).on("load",(()=>{f._jQueryInterface.call(t("body"))})),t.fn[o]=f._jQueryInterface,t.fn[o].Constructor=f,t.fn[o].noConflict=function(){return t.fn[o]=l,f._jQueryInterface};const b="NavbarSearch",g="bsa.navbar-search",m=t.fn[b],p="open",_={closeReset:!1,trigger:".bsa-search-form-toggler",action:"",params:""};class y{constructor(e,t){this._element=e,this._config=t,this._$input=this._element.find("input.bsa-input-search")}open(){this._element.addClass(p)}close(){this._element.removeClass(p),!0===this._config.closeReset&&this._$input.val("")}toggle(){this._element.hasClass(p)?this.close():this.open()}_triggerSearch(e){const n=t.Event("search.bsa.navbar-search");t(this._element).trigger(n,[this._config,e])}_init(){let e=this;e._$input.on("keydown",(function(n){if(13===n.keyCode){n.preventDefault();let a=t.trim(e._$input.val());""!==a&&e._triggerSearch(a)}})),t(document).on("click",".bsa-search-submit-btn",(function(n){n.preventDefault();let a=t.trim(e._$input.val());""!==a&&e._triggerSearch(a)})),t(document).on("click",".bsa-search-close-btn",(function(t){t.preventDefault(),e.close()})),t(document).on("click",e._config.trigger,(function(t){t.preventDefault(),e.open()}))}static _jQueryInterface(e){return this.each((function(){let n=t(this).data(g);const a=t.extend({},_,"object"==typeof e?e:t(this).data());if(n)if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}else void 0===e&&n._init();else n=new y(t(this),a),t(this).data(g,n),n._init()}))}}0!==t(".bsa-header").length&&t(window).on("load",(()=>{y._jQueryInterface.call(t('[data-bsa-toggle="navbar-search"]'))})),t.fn[b]=y._jQueryInterface,t.fn[b].Constructor=y,t.fn[b].noConflict=function(){return t.fn[b]=m,y._jQueryInterface};const v="Toasts",C=t.fn[v],w={body:"",animation:!0,autohide:!0,btnClose:!0,btnCloseWhite:!1,className:"",delay:5e3,gap:16,margin:"1rem",position:"topRight"};class T{constructor(e,n){this._config=n,this._bootstrapToast=null,this._prepareContainer(),t("body").trigger(t.Event("init.bsa.toasts"))}show(){this._bootstrapToast.show()}hide(){this._bootstrapToast.hide()}_prepareContainer(){let e=t('\n              <div style="z-index: 1081" class="toast position-fixed bottom-0 end-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="toast-header">\n                  <img src="dist/img/user.png" style="height: 25px" class="rounded me-2" alt="...">\n                  <i class="bi bi-bell"></i>  \n                  <strong class="me-auto">Bootstrap</strong>\n                  <small>11 mins ago</small>\n                  <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>\n                </div>\n                <div class="toast-body">\n                  Hello, world! This is a toast message.\n                </div>\n              </div>\n        ');t("body").append(e),this._bootstrapToast=new bootstrap.Toast(e[0],{animation:this._config.animation,autohide:this._config.autohide,delay:this._config.delay})}static _jQueryInterface(e,n){return this.each((function(){const a=t.extend({},w,n),o=new T(t(this),a);"show"===e&&o[e]()}))}}t.fn[v]=T._jQueryInterface,t.fn[v].Constructor=T,t.fn[v].noConflict=function(){return t.fn[v]=C,T._jQueryInterface};const S="PushMenu",x="bsa.pushmenu",I=`.${x}`,j=t.fn[S],k=`collapse${I}`,D=`collapsed${I}`,Q=`expand${I}`,$=`expanded${I}`,E='[data-bsa-toggle="pushmenu"]',A=".bsa-sidebar",H=".bsa-mask",O="open",F={animationSpeed:300};class q{constructor(e,t){this._element=e,this._options=t,this._addTransition()}expand(){t(this._element).trigger(t.Event(Q)),t(".bsa-sidebar").addClass(O),t(A).data("isOpen",!0),this._addOverlay()}collapse(){t(this._element).trigger(t.Event(k)),t(A).removeClass(O),t(A).data("isOpen",!1),t(H).remove()}toggle(){t(A).hasClass(O)?this.collapse():this.expand()}_addTransition(){t(A).css({transition:`${this._options.animationSpeed}ms transform`})}_addOverlay(){0===t(H).length&&t('<div class="bsa-mask"></div>').prependTo("body")}_init(){let e=this;t(document).on("click",H,(function(t){t.preventDefault(),e.collapse()})),t(document).on("transitionend",A,(function(n){if(n.target===n.currentTarget){const a=t.Event($),o=t.Event(D);t(n.target).data("isOpen")?t(e._element).trigger(a):t(e._element).trigger(o)}})),t(document).on("click",E,(t=>{t.preventDefault(),e.toggle()}))}static _jQueryInterface(e){return this.each((function(){let n=t(this).data(x);const a=t.extend({},F,"object"==typeof e?e:t(this).data());if(n)if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}else void 0===e&&n._init();else n=new q(t(this),a),t(this).data(x,n),n._init()}))}}0!==t(".bsa-header").length&&t(window).on("load",(()=>{q._jQueryInterface.call(t(E))})),t.fn[S]=q._jQueryInterface,t.fn[S].Constructor=q,t.fn[S].noConflict=function(){return t.fn[S]=j,q._jQueryInterface};const P="Sidebar",R="bsa.sidebar",G=`.${R}`,M=t.fn[P],N=`expanded${G}`,L=`collapsed${G}`,z={animationSpeed:150,accordion:!0};class B{constructor(e,t){this._config=t,this._element=e}expand(e){let n=this;e.siblings("ul").each((function(e,a){let o=t(a),s=n._getRealHeight(a);o.data("isOpen",!0),o.css({height:0}),a.scrollHeight,o.css({"transition-timing-function":"ease","transition-duration":`${n._config.animationSpeed}ms`,"transition-property":"height",display:"block",height:s})}))}collapse(e){let n=this;e.siblings("ul").each((function(e,a){let o=t(a),s=n._getRealHeight(a);o.data("isOpen",!1),o.css({"transition-timing-function":"ease","transition-duration":`${n._config.animationSpeed}ms`,"transition-property":"height",display:"block",height:s}),a.scrollHeight,o.css({height:0})}))}_init(){let e=this;t(document).on("transitionend",".bsa-menu ul",(function(n){if(n.target===n.currentTarget){const a=t.Event(N),o=t.Event(L);t(n.target).removeAttr("style"),t(n.target).data("isOpen")?t(e._element).trigger(a):t(e._element).trigger(o)}})),t(document).on("click",".bsa-menu a.has-children:not([target])",(function(n){n.preventDefault();let a=t(this);if(e._config.accordion){let t=a.parent().siblings("li"),n=t.children("a.has-children.open");e.collapse(n),n.removeClass("open"),t.children("a.active").removeClass("active")}a.hasClass("open")?(a.removeClass("open"),e.collapse(a)):(a.addClass("open"),e.expand(a))})),t(document).on("click",".bsa-menu a:not(.has-children):not([target])",(function(e){e.preventDefault();let a=t(this);t(".bsa-menu a").each((function(e,n){t(n).removeClass("active")})),a.addClass("active"),n.get(".qtab").addTab({title:this.innerText,url:this.getAttribute("href"),close:!0})}))}_getRealHeight(e){let n=t(e),a=n.clone();a.css({visibility:"hidden",display:"block",position:"absolute",zIndex:"-999"}),n.after(a);let o=n.next(),s=o.prop("scrollHeight");return o.remove(),s}static _jQueryInterface(e){for(const n of this){let a=t(n),o=a.data(R);const s=t.extend({},z,"object"==typeof e?e:a.data());if(o||(o=new B(a,s),a.data(R,o),o._init()),"string"==typeof e){if(void 0===o[e])throw new TypeError(`方法 "${e}" 不存在`);let t=o[e]();if(void 0!==t)return t}}return this}}t(window).on("load",(()=>{0!==t(".bsa-sidebar").length&&t('[data-bsa-toggle="sidebar"]').each((function(){B._jQueryInterface.call(t(this))}))})),t.fn[P]=B._jQueryInterface,t.fn[P].Constructor=B,t.fn[P].noConflict=function(){return t.fn[P]=M,B._jQueryInterface},e.Layout=f,e.NavbarSearch=y,e.PushMenu=q,e.Sidebar=B,e.Toasts=T}));
//# sourceMappingURL=bootstrap-admin.min.js.map
