{"version":3,"file":"BSA.js","sources":["../../build/js/Util.js","../../build/js/Reboot.js","../../node_modules/crypt/crypt.js","../../node_modules/charenc/charenc.js","../../node_modules/is-buffer/index.js","../../node_modules/md5/md5.js","../../build/js/Main.js","../../build/js/Toast.js"],"sourcesContent":["export default {\r\n    //事件委托\r\n    delegate(element, type, selector, fn, exceptSelector) {\r\n        element.addEventListener(type, function (e) {\r\n            let target = e.target;\r\n            let currTarget = e.currentTarget;\r\n            while (target !== currTarget && (target instanceof HTMLElement)) {\r\n                if (target.matches(selector)) {\r\n                    fn.call(target, e);\r\n                    break;\r\n                } else if (target.matches(exceptSelector)) {\r\n                    break;\r\n                }\r\n                target = target.parentNode;\r\n            }\r\n        }, false);\r\n    },\r\n\r\n\r\n    /**\r\n     * 原生js实现jq的siblings()方法\r\n     * @param element\r\n     * @param selector\r\n     * @returns {*[]}\r\n     */\r\n    siblings(element, selector) {\r\n        selector = selector || false;\r\n        //先获取到当前传入的元素的所有父元素的子集\r\n        let pChildren = element.parentNode.children;\r\n        let eleMatch = [];\r\n        //遍历把自己干掉\r\n        for (let children of pChildren) {\r\n            if (children instanceof HTMLElement) {\r\n                if (selector) {//如果为真，说明传入选择器\r\n                    if (children !== element && children.matches(selector)) {\r\n                        eleMatch.push(children);\r\n                    }\r\n                } else {//没有传入\r\n                    if (children !== element) {\r\n                        eleMatch.push(children);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return eleMatch;\r\n    },\r\n\r\n\r\n    /**\r\n     * 通过字符串创建节点\r\n     * @param htmlStr\r\n     * @returns {Element}\r\n     */\r\n    createNode(htmlStr) {\r\n        let div = document.createElement(\"div\");\r\n        div.innerHTML = htmlStr;\r\n        return div.children[0];\r\n    },\r\n\r\n\r\n    /**\r\n     * 节流函数\r\n     * @param func\r\n     * @param wait\r\n     * @returns {(function(...[*]): void)|*}\r\n     */\r\n    debounce(func, wait = 500) {\r\n        let timeID;\r\n        return function (...args) {\r\n            if (timeID) clearTimeout(timeID);\r\n            timeID = setTimeout(() => {\r\n                func.apply(this, args);\r\n            }, wait);\r\n        }\r\n    }\r\n\r\n}","import Util from \"./Util\";\r\n\r\nUtil.delegate(document.body, 'change', '.bsa-check-all', function (event) {\r\n    let target = event.target;\r\n\r\n    document.querySelectorAll(\"input[type='checkbox']\").forEach((input) => {\r\n        input.checked = target.checked;\r\n    })\r\n});\r\n\r\n\r\n//bootstrap气泡组件初始化\r\n[].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]')).map(function (popoverTriggerEl) {\r\n    return new bootstrap.Popover(popoverTriggerEl)\r\n});\r\n//bootstrap提示组件初始化\r\n[].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]')).map(function (tooltipTriggerEl) {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl)\r\n});\r\n\r\n//优化:使无效表单禁止提交\r\ndocument.querySelectorAll('form:not([action]),form[action=\"#\"]').forEach(function (form) {\r\n    form.addEventListener('submit', event => {\r\n        event.preventDefault();\r\n    });\r\n});\r\n\r\n//优化:禁止所有的input记忆输入内容\r\ndocument.querySelectorAll('input').forEach((e) => {\r\n    e.setAttribute(\"AutoComplete\", \"off\");\r\n});","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/**\r\n * --------------------------------------------\r\n * BSA Main.js\r\n * License MIT\r\n * --------------------------------------------\r\n */\r\n\r\n\r\nimport Util from \"./Util\";\r\nimport md5 from \"md5\";\r\nimport util from \"./Util\";\r\n\r\n\r\nconst TAB_CONTAINER_MOUNT_CLASS = ['h-100', 'd-flex', 'flex-column', 'bsa-tabs'];\r\nconst TAB_IFRAME_LEAVE_CLASS = 'out';\r\nconst TAB_IFRAME_FADEIN_CLASS = 'fadeIn';\r\nconst TAB_ID_KEY = 'data-tab-id';\r\nconst TAB_URL_KEY = 'data-tab-url';\r\nconst TAB_CACHE_KEY = 'tabs';\r\n\r\nconst SIDEBARCOLOR_CACHE_KEY = 'sidebarcolor';\r\nconst HEADERCOLOR_CACHE_KEY = 'headercolor';\r\n\r\n\r\nconst TAB_LEFT = `<li class=\"nav-item caret-btn caret-btn-left  border-end\" role=\"presentation\"><button class=\"nav-link\"><i class=\"bi bi-caret-left\"></i></button></li>`;\r\nconst TAB_ROLL_AREA = `<li class=\"nav-item flex-grow-1 d-flex flex-nowrap align-items-center position-relative\" role=\"presentation\"></li>`;\r\nconst TAB_ACTIONS = `\r\n                    <li class=\"nav-item caret-btn border-start dropdown\" role=\"presentation\">\r\n                        <button class=\"nav-link\" data-bs-toggle=\"dropdown\"><i class=\"bi bi-caret-down\"></i></button>\r\n                        <ul class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li>\r\n                                <button class=\"dropdown-item rollback-current\" type=\"button\">回到当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item refresh-current\" type=\"button\">刷新当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-current\" type=\"button\">关闭当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-other\" type=\"button\">关闭其他</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-all\" type=\"button\">关闭全部</button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n`;\r\nconst TAB_RIGHT = `<li class=\"nav-item caret-btn caret-btn-right  border-start\" role=\"presentation\"><button class=\"nav-link\"><i class=\"bi bi-caret-right\"></i></button></li>`;\r\n\r\nconst TAB_UPPER_HALF_TPL = `<ul class=\"nav nav-pills border flex-nowrap\" role=\"tablist\">${TAB_LEFT}${TAB_ROLL_AREA}${TAB_ACTIONS}${TAB_RIGHT}</ul>`;\r\nconst TAB_LOWER_HALF_TPL = `<div class=\"flex-grow-1 position-relative\"></div>`;\r\n\r\n\r\nconst TAB_ITEM = `<button class=\"nav-link border flex-shrink-0\" ${TAB_URL_KEY}=\"{{url}}\"  ${TAB_ID_KEY}=\"{{id}}\" type=\"button\">{{title}}</button>`\r\nconst TAB_ITEM_CLOSE = `<button class=\"nav-link border flex-shrink-0\" ${TAB_URL_KEY}=\"{{url}}\" ${TAB_ID_KEY}=\"{{id}}\" type=\"button\">{{title}}<i class=\"bi bi-x  closetab\"></i></button>`\r\n\r\nconst TAB_IFRAME = `<iframe src=\"{{url}}\" class=\"w-100 h-100 d-block  ${TAB_IFRAME_LEAVE_CLASS}\" ${TAB_ID_KEY}=\"{{id}}\"></iframe>`;\r\n\r\n\r\n//右键菜单的容器\r\nconst TBA_CONTEXTMENU_TPL = `\r\n            <div class=\"list-group bsa-contextmenu shadow-sm\">\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action refresh\">刷新</button>\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action close\">关闭</button>\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action close-other\">关闭其它</button>\r\n            </div>`;\r\n\r\n\r\nconst Default = {\r\n    //控制台广告\r\n    consoleLog: true,\r\n    //默认初始化的tab\r\n    defaultTabs: [],\r\n    //淡入动画\r\n    tabFadein: true,\r\n    //tab缓存\r\n    tabCache: true,\r\n    //点击左侧菜单项后是否立马关闭(仅在iframe模式下有效)\r\n    sideMenuClickClose: false,\r\n    //tab激活展开侧边栏导航对应的位置\r\n    tabActiveOpenInSideMenuLocation: true,\r\n}\r\n\r\n\r\n//单个tab的默认选项\r\nconst tabDefault = {\r\n    //标题\r\n    title: \"\",\r\n    //连接\r\n    url: '',\r\n    //tab唯一标志\r\n    id: null,\r\n    //是否可以关闭\r\n    close: true\r\n}\r\n\r\n\r\nclass Main {\r\n\r\n    constructor(config) {\r\n        //参数合并\r\n        this._config = Object.assign({}, Default, config)\r\n        this._init()\r\n    }\r\n\r\n    _init() {\r\n\r\n        //广告是否输出\r\n        if (this._config.consoleLog === true) {\r\n            this._advert();\r\n        }\r\n\r\n        //事件处理\r\n        this._addEventListener();\r\n\r\n        //主题色回显\r\n        this.restoreColor();\r\n\r\n        //tab初始化\r\n        this._tabInit();\r\n    }\r\n\r\n\r\n    restoreColor() {\r\n\r\n        let sidebarcolor = localStorage.getItem(SIDEBARCOLOR_CACHE_KEY);\r\n        let headercolor = localStorage.getItem(HEADERCOLOR_CACHE_KEY);\r\n        if (sidebarcolor !== null) {\r\n            document.documentElement.classList.add(\"color-sidebar\", sidebarcolor);\r\n        }\r\n        if (headercolor !== null) {\r\n            document.documentElement.classList.add(\"color-header\", headercolor);\r\n        }\r\n    }\r\n\r\n\r\n    _tabInit() {\r\n        //容器\r\n        this._tab_container = document.querySelector(this._config.tabEl);\r\n        //检测是否是一个正常的dom元素\r\n        if (this._tab_container instanceof HTMLElement) {\r\n\r\n\r\n            //继续执行下面的逻辑\r\n            this._tab_container.classList.add(...TAB_CONTAINER_MOUNT_CLASS);\r\n            //加入到容器中\r\n            this._tab_container.insertAdjacentHTML(\"beforeEnd\", `${TAB_UPPER_HALF_TPL}${TAB_LOWER_HALF_TPL}`);\r\n            //单个tab的容器\r\n            this._tab_wraper = this._tab_container.querySelector(`li.flex-grow-1`);\r\n            //单个tab面板的容器\r\n            this._tab_content_wraper = this._tab_container.querySelector(`div.flex-grow-1`);\r\n\r\n            //构建右键菜单\r\n            this._buildContextmenu();\r\n\r\n            //事件监听\r\n            this._addTabEventListener();\r\n\r\n            //tab回显\r\n            this._restoreTabs();\r\n        }\r\n    }\r\n\r\n    _restoreTabs() {\r\n        //判断选项是否开启缓存\r\n        if (this._isOpenCacheTab()) {\r\n            //从缓存里面读\r\n            let cacheTabs = this._getCacheTabs();\r\n\r\n            if (cacheTabs.length !== 0) {\r\n\r\n                //回显缓存中所有的tab\r\n                this._echoCacheAllTabs();\r\n\r\n\r\n            } else {//缓存没有则加载默认tab\r\n                this._config.defaultTabs.forEach((option) => {\r\n                    this.addTab(option);\r\n                });\r\n            }\r\n        } else {\r\n\r\n            //删除缓存\r\n            this._clearCacheTabsAll();\r\n\r\n            //然后添加传递进来的默认tab选项\r\n            this._config.defaultTabs.forEach((option) => {\r\n                this.addTab(option);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 回显缓存中的所有tab\r\n     * @private\r\n     */\r\n    _echoCacheAllTabs() {\r\n        //创建两个虚拟节点\r\n        let tabFrag = document.createDocumentFragment();\r\n        // let iframeFrag = document.createDocumentFragment();\r\n        let cacheTabs = this._getCacheTabs();\r\n\r\n        //这里只添加所有的tab，不添加iframe,否则全部加载iframe将会卡爆\r\n        cacheTabs.forEach((option) => {\r\n            //添加tab\r\n            let tabHTML = option.close ? this._formatString(TAB_ITEM_CLOSE, option) : this._formatString(TAB_ITEM, option);\r\n            tabFrag.appendChild(Util.createNode(tabHTML));\r\n\r\n            // //添加iframe\r\n            // let iframeHTML = this._formatString(TAB_IFRAME, option)\r\n            // let iframeDom = util.createNode(iframeHTML);\r\n            // //判断是否需要加淡入动画\r\n            // if (this._config.tabFadein === true) {\r\n            //     iframeDom.classList.add(TAB_IFRAME_FADEIN_CLASS);\r\n            // }\r\n            // iframeFrag.appendChild(iframeDom);\r\n\r\n        });\r\n\r\n        this._tab_wraper.appendChild(tabFrag);\r\n        // this._tab_content_wraper.appendChild(iframeFrag);\r\n\r\n\r\n        //激活tab\r\n        this.activeTabById(this._getActivatedCacheTabId());\r\n\r\n    }\r\n\r\n\r\n    // 清除缓存\r\n    clearCache() {\r\n        localStorage.removeItem(TAB_CACHE_KEY);\r\n        localStorage.removeItem(HEADERCOLOR_CACHE_KEY);\r\n        localStorage.removeItem(SIDEBARCOLOR_CACHE_KEY);\r\n    }\r\n\r\n    /**\r\n     * 判断是否开启缓存\r\n     * @private\r\n     */\r\n    _isOpenCacheTab() {\r\n        return this._config.tabCache === true;\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取缓存中的所有tab\r\n     * @returns {*[]}\r\n     * @private\r\n     */\r\n    _getCacheTabs() {\r\n        let tabs = JSON.parse(localStorage.getItem(TAB_CACHE_KEY));\r\n        if (tabs === null) {\r\n            tabs = [];\r\n        }\r\n        return tabs;\r\n    }\r\n\r\n\r\n    /**\r\n     * 清空缓存中所有的tab\r\n     * @private\r\n     */\r\n    _clearCacheTabsAll() {\r\n        localStorage.removeItem(TAB_CACHE_KEY);\r\n    }\r\n\r\n\r\n    //构建右键菜单\r\n    _buildContextmenu() {\r\n        //加入到body\r\n        document.body.insertAdjacentHTML(\"beforeEnd\", TBA_CONTEXTMENU_TPL);\r\n        //找到这个容器\r\n        this._contextmenu_wraper = document.querySelector(`.bsa-contextmenu`);\r\n\r\n    }\r\n\r\n    //tab的事件监听\r\n    _addTabEventListener() {\r\n\r\n        let _this = this;\r\n\r\n\r\n        //其它任意元素生成tab\r\n        Util.delegate(document.body, 'click', '[data-bsa-tab-url][data-bsa-tab-title]', function (e) {\r\n            e.preventDefault();\r\n\r\n            let url = this.getAttribute('data-bsa-tab-url');\r\n            let title = this.getAttribute('data-bsa-tab-title');\r\n            _this.addTab({\r\n                title,\r\n                url,\r\n                close: true,\r\n            });\r\n\r\n        });\r\n\r\n        //适配左侧菜单点击生成tab\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-body > ul a:not(.has-children):not([target])', function (event) {\r\n            event.preventDefault();\r\n            let a = this;\r\n            //得到当前a链接的href\r\n            let url = a.getAttribute('href');\r\n            let title = a.innerText;\r\n\r\n\r\n            _this.addTab({\r\n                title,\r\n                url,\r\n                close: true,\r\n            });\r\n\r\n            if (_this._config.sideMenuClickClose === true) {\r\n                if (screen.availWidth < 992) {\r\n                    _this.closeSideMenu();\r\n                }\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n        //监听滚动事件,让鼠标滚动也能左右切换\r\n        this._tab_wraper.addEventListener(\"wheel\", Util.debounce(function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let activeTab = _this.getActivatedTab();\r\n            let deltaY = e.deltaY;\r\n            if (deltaY < 0) {//向左滚动\r\n\r\n                //获取它前一个tab\r\n                let preTab = activeTab.previousElementSibling;\r\n                if (preTab instanceof HTMLElement) {\r\n                    _this.activeTabById(preTab.getAttribute(TAB_ID_KEY))\r\n                }\r\n\r\n            } else if (deltaY > 0) {//向右滚动\r\n                let nextTab = activeTab.nextElementSibling;\r\n                if (nextTab instanceof HTMLElement) {\r\n                    _this.activeTabById(nextTab.getAttribute(TAB_ID_KEY))\r\n                }\r\n\r\n            }\r\n\r\n        }, 100));\r\n\r\n\r\n        //点击tab处理\r\n        Util.delegate(_this._tab_wraper, 'click', 'button.nav-link', function () {\r\n            _this.activeTabById(this.getAttribute(TAB_ID_KEY));\r\n        }, '.closetab');\r\n\r\n\r\n        //tab关闭\r\n        Util.delegate(_this._tab_wraper, 'click', '.closetab', function () {\r\n            // self.closeTabByPageId(pageid);\r\n            // console.log(this.parentNode)\r\n            _this.closeTabById(this.parentNode.getAttribute(TAB_ID_KEY));\r\n\r\n        });\r\n\r\n        //tab右键\r\n        Util.delegate(_this._tab_wraper, 'contextmenu', 'button.nav-link', function (e) {\r\n            e.preventDefault();\r\n\r\n            let tab = this;\r\n            let id = tab.getAttribute(TAB_ID_KEY);\r\n\r\n\r\n            //同时查看是否需要显示关闭选项\r\n            if (_this._canRemoveTabById(id)) {\r\n                _this._contextmenu_wraper.querySelector('.close').style.display = 'block';\r\n            } else {\r\n                _this._contextmenu_wraper.querySelector('.close').style.display = 'none';\r\n            }\r\n\r\n            _this._contextmenu_wraper.style.top = `${e.clientY}px`;\r\n            _this._contextmenu_wraper.style.left = `${e.clientX}px`;\r\n            _this._contextmenu_wraper.style.display = 'block';\r\n\r\n            //同时给iframe窗口禁用所有的鼠标事件\r\n            _this._tab_container.classList.add('pen');\r\n\r\n            //获取dw的示例对象\r\n            let tabActionsDropdown = bootstrap.Dropdown.getOrCreateInstance(_this._tab_container.querySelector('ul>li.dropdown>button'));\r\n            tabActionsDropdown.hide();\r\n\r\n            //把所有的id都给遍历给右键菜单的每一项\r\n            _this._contextmenu_wraper.querySelectorAll('button.list-group-item').forEach(function (item) {\r\n                item.setAttribute(TAB_ID_KEY, id);\r\n            })\r\n\r\n        }, '.closetab');\r\n\r\n\r\n        //点击任何区域左键单击都关闭\r\n        document.addEventListener('click', function () {\r\n            _this._closeTabsContextmenu();\r\n        })\r\n\r\n        //监听窗口变化也要让右键菜单消失\r\n        window.addEventListener('resize', Util.debounce(function () {\r\n            _this._closeTabsContextmenu();\r\n        }, 60))\r\n\r\n\r\n        //更多操作的下拉菜单\r\n        const tabActionsDropdown = _this._tab_container.querySelector('ul>li.dropdown>button');\r\n        tabActionsDropdown.addEventListener('show.bs.dropdown', event => {\r\n            _this._tab_container.classList.add('pen2');\r\n        })\r\n        //更多操作下拉菜单关闭移除\r\n        tabActionsDropdown.addEventListener('hide.bs.dropdown', event => {\r\n            _this._tab_container.classList.remove('pen2');\r\n        })\r\n\r\n\r\n        //tab右键刷新左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.refresh', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuRefresh(this);\r\n        });\r\n\r\n        //tab右键刷新右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.refresh', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuRefresh(this);\r\n        });\r\n\r\n\r\n        //右键菜单-关闭左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.close', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuClose(this)\r\n\r\n        });\r\n\r\n        //右键菜单-关闭右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.close', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuClose(this)\r\n\r\n        });\r\n\r\n\r\n        //右键菜单-关闭其它左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.close-other', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuCloseOther(this)\r\n\r\n        });\r\n\r\n        //右键菜单-关闭其它右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.close-other', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuCloseOther(this)\r\n        });\r\n\r\n\r\n        //左滑动按钮被单击\r\n        Util.delegate(_this._tab_container, 'click', '.caret-btn-left', function () {\r\n            _this._tab_wraper.scrollLeft = _this._tab_wraper.scrollLeft - _this._tab_wraper.offsetWidth;\r\n        });\r\n\r\n\r\n        //右滑动按钮被单击\r\n        Util.delegate(_this._tab_container, 'click', '.caret-btn-right', function () {\r\n            _this._tab_wraper.scrollLeft = _this._tab_wraper.scrollLeft + _this._tab_wraper.offsetWidth;\r\n        });\r\n\r\n\r\n        //回到当前\r\n        Util.delegate(_this._tab_container, 'click', '.rollback-current', function () {\r\n            _this.activeTabById(_this.getActivatedTabId());\r\n        });\r\n\r\n\r\n        //刷新当前\r\n        Util.delegate(_this._tab_container, 'click', '.refresh-current', function () {\r\n            _this._refreshTabById(_this.getActivatedTabId());\r\n        });\r\n\r\n        //关闭当前\r\n        Util.delegate(_this._tab_container, 'click', '.close-current', function () {\r\n\r\n            //得到当前激活的id\r\n            let id = _this.getActivatedTabId();\r\n            if (_this._canRemoveTabById(id)) {//判断能不能删除\r\n                _this.closeTabById(id)\r\n            }\r\n        });\r\n\r\n\r\n        //关闭其它\r\n        Util.delegate(_this._tab_container, 'click', '.close-other', function () {\r\n            _this._closeAllTabExceptForId(_this.getActivatedTabId());\r\n        });\r\n\r\n\r\n        //关闭全部\r\n        Util.delegate(_this._tab_container, 'click', '.close-all', function () {\r\n            _this.closeAllTabs();\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 右键菜单-刷新按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuRefresh(element) {\r\n        this._refreshTabById(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n    }\r\n\r\n    /**\r\n     * 右键菜单-关闭按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuClose(element) {\r\n        this.closeTabById(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n\r\n    }\r\n\r\n    /**\r\n     * 右键菜单-关闭其它按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuCloseOther(element) {\r\n        this._closeAllTabExceptForId(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭所有的tab\r\n     */\r\n    closeAllTabs() {\r\n\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((tab) => {\r\n            let id = tab.getAttribute(TAB_ID_KEY);\r\n\r\n            if (this._canRemoveTabById(id)) {\r\n\r\n                this._removeTabById(id);\r\n\r\n            }\r\n        });\r\n\r\n        //选中那些禁止删除的取第一个,将其激活\r\n        let firstTab = this._tab_wraper.firstChild;\r\n        if (firstTab instanceof HTMLElement) {\r\n            this.activeTabById(firstTab.getAttribute(TAB_ID_KEY));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭除了传递进来的id的所有tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _closeAllTabExceptForId(id) {\r\n\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((tab) => {\r\n\r\n            let forEachId = tab.getAttribute(TAB_ID_KEY);\r\n\r\n            if (forEachId !== id && this._canRemoveTabById(forEachId)) {//如果不相等，且tab可以被删除的情况下\r\n                this._removeTabById(forEachId);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id直接删除tab(包括iframe)\r\n     * @param id\r\n     * @private\r\n     */\r\n    _removeTabById(id) {\r\n        let tab = this.findTabById(id);\r\n        let ifr = this.findIframeById(id);\r\n        tab.remove();\r\n        this._removeCacheTabById(id);\r\n        if (ifr instanceof HTMLElement) {\r\n            ifr.remove();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据id刷新tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _refreshTabById(id) {\r\n\r\n        let iframe = this.findIframeById(id);\r\n        if (!(iframe instanceof HTMLElement)) {//如果没有就加入iframe\r\n\r\n            //添加iframe\r\n            let tab = this.findTabById(id);\r\n            this._addIframeByTab(tab)\r\n\r\n        } else {//如果有就正常刷新逻辑\r\n\r\n            if (this._config.tabFadein === true) {//查看是否需要淡入\r\n                iframe.classList.remove('fadeIn');\r\n                void iframe.offsetWidth;\r\n                iframe.contentWindow.location.reload();\r\n                iframe.classList.add('fadeIn');\r\n            } else {\r\n                iframe.contentWindow.location.reload();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    //关闭TAB的右键菜单\r\n    _closeTabsContextmenu() {\r\n        this._contextmenu_wraper.style.display = 'none';\r\n        this._tab_container.classList.remove('pen');\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据id判断能否删除\r\n     * @param id\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    _canRemoveTabById(id) {\r\n        let result = false;\r\n        if (this.findTabById(id).querySelector(\".bi-x\") instanceof HTMLElement) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * 删除缓存中的tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _removeCacheTabById(id) {\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((tab, index) => {\r\n            if (tab.id === id) {\r\n                cacheTabs.splice(index, 1)\r\n            }\r\n        })\r\n        //重新设置回去\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id关闭tab选项卡\r\n     * @param id\r\n     */\r\n    closeTabById(id) {\r\n\r\n        let tab = this.findTabById(id);\r\n        if (tab.classList.contains('active')) {//判断是否是激活的tab\r\n            //把active传递给其它的tab\r\n            let willActiveId = null;\r\n            if (tab.nextElementSibling instanceof HTMLElement) {//后面有tab\r\n                //得到后面tab的pageid作为将要激活的tab id\r\n                willActiveId = tab.nextElementSibling.getAttribute(TAB_ID_KEY);\r\n            } else if (tab.previousElementSibling instanceof HTMLElement) { //看看前面是否有tab\r\n\r\n                willActiveId = tab.previousElementSibling.getAttribute(TAB_ID_KEY);\r\n            }\r\n\r\n            //先删除再滚动\r\n            this._removeTabById(id)\r\n            if (willActiveId) {//如果该id存在就激活\r\n\r\n                //激活\r\n                this.activeTabById(willActiveId);\r\n            }\r\n\r\n        } else {\r\n\r\n            this._removeTabById(id)\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    //添加tab\r\n    addTab(option) {\r\n\r\n        if (this._tab_container instanceof HTMLElement) {\r\n\r\n            //参数合并\r\n            option = Object.assign({}, tabDefault, option)\r\n            option.id = md5(option.url);\r\n\r\n\r\n            if (this.findTabById(option.id) === null) {//如果没有则添加\r\n\r\n                //添加tab\r\n                let tabHTML = option.close ? this._formatString(TAB_ITEM_CLOSE, option) : this._formatString(TAB_ITEM, option);\r\n                this._tab_wraper.insertAdjacentHTML(\"beforeEnd\", tabHTML);\r\n\r\n                //添加iframe\r\n                let iframeHTML = this._formatString(TAB_IFRAME, option)\r\n                let iframeDom = util.createNode(iframeHTML);\r\n                //判断是否需要加淡入动画\r\n                if (this._config.tabFadein === true) {\r\n                    iframeDom.classList.add(TAB_IFRAME_FADEIN_CLASS);\r\n                }\r\n                this._tab_content_wraper.appendChild(iframeDom);\r\n\r\n\r\n                //同时也添加进缓存\r\n                if (this._isOpenCacheTab()) {\r\n                    this._addTabToCache(option);\r\n                }\r\n\r\n            }\r\n\r\n            //激活tab\r\n            this.activeTabById(option.id);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 激活缓存中的tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _activeCacheTabById(id) {\r\n        //激活前删除所有的激活样式\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((option) => {\r\n            option.active = option.id === id;\r\n        });\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加tab进缓存\r\n     * @param option\r\n     * @private\r\n     */\r\n    _addTabToCache(option) {\r\n        //先取\r\n        let cacheTabs = this._getCacheTabs();\r\n        //追加属性 active\r\n        option.active = false;\r\n        cacheTabs.push(option)\r\n        //重新设置回去\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 得到当前激活tab的id\r\n     * @returns {null}\r\n     */\r\n    getActivatedTabId() {\r\n        let id = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(btn => {\r\n            if (btn.classList.contains('active')) {\r\n                id = btn.getAttribute(TAB_ID_KEY);\r\n            }\r\n        })\r\n        return id;\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取缓冲中激活的tab\r\n     * @returns {null}\r\n     * @private\r\n     */\r\n    _getActivatedCacheTabId() {\r\n        let id = null;\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((option) => {\r\n            if (option.hasOwnProperty('active') && option.active === true) {\r\n                id = option.id;\r\n            }\r\n        })\r\n        return id;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 得到当前激活tab\r\n     * @returns {null}\r\n     */\r\n    getActivatedTab() {\r\n        let tab = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(btn => {\r\n            if (btn.classList.contains('active')) {\r\n                tab = btn;\r\n            }\r\n        })\r\n        return tab;\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过tab添加iframe\r\n     * @private\r\n     */\r\n    _addIframeByTab(tabEl) {\r\n        //添加iframe\r\n        let option = {id: tabEl.getAttribute(TAB_ID_KEY), url: tabEl.getAttribute(TAB_URL_KEY)};\r\n        let iframeHTML = this._formatString(TAB_IFRAME, option)\r\n        let iframeDom = util.createNode(iframeHTML);\r\n        //判断是否需要加淡入动画\r\n        if (this._config.tabFadein === true) {\r\n            iframeDom.classList.add(TAB_IFRAME_FADEIN_CLASS);\r\n        }\r\n        this._tab_content_wraper.appendChild(iframeDom);\r\n    }\r\n\r\n    /**\r\n     * 通过id激活tab\r\n     * @param id\r\n     */\r\n    activeTabById(id) {\r\n\r\n\r\n        //同时激活缓存中的tab选项\r\n        if (this._isOpenCacheTab()) {\r\n            this._activeCacheTabById(id);\r\n        }\r\n\r\n\r\n        //激活前删除所有的激活样式\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(function (btnEl) {\r\n            btnEl.classList.remove('active');\r\n        })\r\n\r\n\r\n        //把所有的iframe都移除出去\r\n        this._tab_content_wraper.querySelectorAll('iframe').forEach(function (iframeEl) {\r\n            iframeEl.classList.add(TAB_IFRAME_LEAVE_CLASS);\r\n        });\r\n\r\n        //给当前tab添加激活样式\r\n        let tab = this.findTabById(id);\r\n        tab.classList.add('active');\r\n\r\n\r\n        //把当前面板激活\r\n        let iframe = this.findIframeById(id);\r\n        if (!(iframe instanceof HTMLElement)) {\r\n            this._addIframeByTab(tab)\r\n        }\r\n\r\n        //再次查找iframe并激活\r\n        this.findIframeById(id).classList.remove(TAB_IFRAME_LEAVE_CLASS)\r\n\r\n        //滚动到指定tab\r\n        this.scrollToTabById(id);\r\n\r\n        let tabId = tab.getAttribute(TAB_ID_KEY);\r\n\r\n        //展开左侧指定区域\r\n        if (this._config.tabActiveOpenInSideMenuLocation === true) {\r\n            //先把所有的激活状态移除和闭合掉\r\n            document.querySelectorAll('.bsa-sidebar-body > ul a').forEach((a) => {\r\n                a.classList.remove(...['open', 'active'])\r\n            })\r\n\r\n\r\n            //找到当前tab的左侧菜单项目,激活、展开\r\n            document.querySelectorAll('.bsa-sidebar-body > ul a').forEach((a) => {\r\n                let url = md5(a.getAttribute('href'));\r\n                if (url === tabId) {\r\n                    a.classList.add('active');\r\n                    this._openMenu(a);\r\n\r\n                    document.querySelector('.bsa-sidebar-body').scrollTo({\r\n                        top: a.offsetTop,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    _openMenu(a) {\r\n        let ul = a.parentNode.parentNode\r\n        let aHasChildren = Util.siblings(ul, 'a.has-children')[0];\r\n        if (!(aHasChildren instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n        aHasChildren.classList.add('open');\r\n        return this._openMenu(aHasChildren);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id滚动到指定的tab\r\n     * @param id\r\n     */\r\n    scrollToTabById(id) {\r\n        let tab = this.findTabById(id);\r\n        // 获取到当前点击元素的 offsetLeft  - 包裹盒子 offsetWidth 的一半 + 当前点击元素 offsetWidth 的一半\r\n        this._tab_wraper.scrollLeft = tab.offsetLeft - this._tab_wraper.offsetWidth / 2 + tab.offsetWidth / 2;\r\n        //关闭右键菜单\r\n        this._closeTabsContextmenu();\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id找到iframe\r\n     * @param id\r\n     * @returns {null}\r\n     */\r\n    findIframeById(id) {\r\n        let results = null;\r\n        this._tab_content_wraper.querySelectorAll('iframe').forEach((iframeEl) => {\r\n            if (iframeEl.getAttribute(TAB_ID_KEY) === id) {\r\n                results = iframeEl;\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id找到tab\r\n     * @param id\r\n     * @returns {null}\r\n     */\r\n    findTabById(id) {\r\n        let results = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((btnEl) => {\r\n            if (btnEl.getAttribute(TAB_ID_KEY) === id) {\r\n                results = btnEl;\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n     * 格式化模板数据\r\n     * @param str\r\n     * @param data\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    _formatString(str, data) {\r\n        return str.replace(/{{(\\w+)}}/g, function (matchingStr, group1) {\r\n            return data[group1];\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //事件监听\r\n    _addEventListener() {\r\n        let _this = this;\r\n\r\n\r\n        //清空缓存\r\n        Util.delegate(document.body, 'click', '.bsa-clear-cache', function (e) {\r\n            e.preventDefault();\r\n            _this.clearCache();\r\n        });\r\n\r\n\r\n        //左侧菜单展开必须移除style\r\n        Util.delegate(document.body, 'transitionend', '.bsa-sidebar-body > ul', function (event) {\r\n            let target = event.target;\r\n            if (target.matches('ul')) {\r\n                target.removeAttribute('style');\r\n            }\r\n        });\r\n\r\n        //左侧菜单展开折叠逻辑\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-body > ul a.has-children', function (event) {\r\n            event.preventDefault();\r\n            let a = this;\r\n            if (!(a.classList.contains('open'))) {//展开\r\n                a.classList.add('open');\r\n                _this._menuToggle(a, 1);\r\n            } else {\r\n                _this._menuToggle(a, 0);\r\n                a.classList.remove('open');\r\n            }\r\n            // 兄弟节点处理\r\n            Util.siblings(a.parentNode).forEach((li) => {\r\n\r\n                let openA = li.querySelector('a.has-children.open');\r\n                if (openA instanceof HTMLElement) {\r\n                    _this._menuToggle(openA, 0);\r\n                    openA.classList.remove('open');\r\n                }\r\n\r\n                let activeA = li.querySelector('a.active');\r\n                if (activeA instanceof HTMLElement) {\r\n                    activeA.classList.remove('active');\r\n                }\r\n\r\n\r\n            })\r\n        });\r\n\r\n\r\n        //调色板侧边栏\r\n        Util.delegate(document.body, 'click', 'div[class^=sidebarcolor]', function (event) {\r\n            event.preventDefault();\r\n            let sidebarcolor = this.getAttribute('class');\r\n\r\n            let sidebarcolorList = [];\r\n            for (let i = 0; i < 8; i++) {\r\n                sidebarcolorList.push(`sidebarcolor${i + 1}`);\r\n            }\r\n\r\n            if (sidebarcolor === \"sidebarcolor0\") {\r\n                //从缓存中移除\r\n                localStorage.removeItem(SIDEBARCOLOR_CACHE_KEY);\r\n                document.documentElement.classList.remove(\"color-sidebar\");\r\n                sidebarcolorList.map(function (item) {\r\n                    document.documentElement.classList.remove(item);\r\n                });\r\n            } else {\r\n                //存入缓存\r\n                localStorage.setItem(SIDEBARCOLOR_CACHE_KEY, sidebarcolor);\r\n                document.documentElement.classList.add(\"color-sidebar\", sidebarcolor);\r\n                sidebarcolorList.splice(sidebarcolorList.indexOf(sidebarcolor), 1);\r\n                document.documentElement.classList.remove(...sidebarcolorList);\r\n            }\r\n        });\r\n\r\n\r\n        //调色板头部\r\n        Util.delegate(document.body, 'click', 'div[class^=headercolor]', function (event) {\r\n            event.preventDefault();\r\n\r\n            let headercolor = this.getAttribute('class');\r\n            let headercolorList = [];\r\n            for (let i = 0; i < 8; i++) {\r\n                headercolorList.push(`headercolor${i + 1}`);\r\n            }\r\n\r\n            if (headercolor === \"headercolor0\") {\r\n                //删除缓存\r\n                localStorage.removeItem(HEADERCOLOR_CACHE_KEY);\r\n                document.documentElement.classList.remove(\"color-header\");\r\n                headercolorList.map(function (item) {\r\n                    document.documentElement.classList.remove(item);\r\n                });\r\n            } else {\r\n                //存入缓存\r\n                localStorage.setItem(HEADERCOLOR_CACHE_KEY, headercolor);\r\n                document.documentElement.classList.add(\"color-header\", headercolor);\r\n                headercolorList.splice(headercolorList.indexOf(headercolor), 1);\r\n                document.documentElement.classList.remove(...headercolorList);\r\n            }\r\n        });\r\n\r\n\r\n        //搜索框关闭\r\n        Util.delegate(document.body, 'click', '.bsa-search-close-btn', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-search-form-wrapper').classList.remove('open');\r\n        });\r\n\r\n        //搜索框打开\r\n        Util.delegate(document.body, 'click', '.bsa-search-form-toggler', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-search-form-wrapper').classList.add('open');\r\n        });\r\n\r\n        //移动端左侧菜单Toggler\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-toggler', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-sidebar').classList.add('open');\r\n            document.body.insertAdjacentHTML('beforeEnd', `<div class=\"bsa-mask\"></div>`);\r\n        });\r\n\r\n        //遮罩层点击\r\n        Util.delegate(document.body, 'click', '.bsa-mask', function (event) {\r\n            event.preventDefault();\r\n            _this.closeSideMenu();\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭侧边栏的菜单\r\n     * @private\r\n     */\r\n    closeSideMenu() {\r\n        document.querySelector('.bsa-mask').remove();\r\n        document.querySelector('.bsa-sidebar').classList.remove('open');\r\n    }\r\n\r\n    _menuToggle(element, type) {\r\n        //找到ul元素\r\n        let ul = element.nextElementSibling;\r\n        //先计算得到ul可滚动的高度scrollHeight\r\n        let ulSh = ul.scrollHeight + 'px';\r\n        if (type === 1) {\r\n            ul.style.cssText = 'display:block;height:0;overflow: hidden;';\r\n            void element.scrollHeight;\r\n            ul.style.cssText = `display:block;height:${ulSh};overflow: hidden;`;\r\n        } else if (type === 0) {\r\n            ul.style.cssText = `display:block;height:${ulSh};overflow: hidden;`;\r\n            void element.scrollHeight;\r\n            ul.style.cssText = `display:block;height:0;overflow: hidden;`;\r\n        }\r\n    }\r\n\r\n\r\n    //广告输出\r\n    _advert() {\r\n        console.log(\"\\n\" +\r\n            \"   ___  _______ \\n\" +\r\n            \"  / _ )/ __/ _ |\\n\" +\r\n            \" / _  |\\\\ \\\\/ __ |\\n\" +\r\n            \"/____/___/_/ |_|\\n\" + \"\\n作者:ajiho\\n\" + \"描述:基于bootstrap5.x设计的一个纯静态开源免费的响应式后台管理HTML模板，旨在快速让喜欢用bootstrap开发后台的程序员有个轻松愉悦的起点。\\n无论您是用于项目开发、学习、还是教学演示、希望能给个star，这将会是我最大的动力!\\n\" + \"Gitee开源地址:https://gitee.com/ajiho/bootstrap-admin\\n\");\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Main","/**\r\n * --------------------------------------------\r\n * bsa Main.js\r\n * License MIT\r\n * --------------------------------------------\r\n */\r\n\r\n\r\nclass Toast {\r\n\r\n    constructor(element, config) {\r\n        this._config = config\r\n        this._element = element\r\n    }\r\n\r\n    run() {\r\n        console.log('Toast-run')\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Toast"],"names":["Util","element","type","selector","fn","exceptSelector","addEventListener","e","target","currTarget","currentTarget","HTMLElement","matches","call","parentNode","_step","eleMatch","_iterator","_createForOfIteratorHelperLoose","children","done","value","push","htmlStr","div","document","createElement","innerHTML","func","wait","timeID","_this","this","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","body","event","querySelectorAll","forEach","input","checked","slice","map","popoverTriggerEl","bootstrap","Popover","tooltipTriggerEl","Tooltip","form","preventDefault","setAttribute","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","i","randomBytes","bytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","join","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","cryptModule","exports","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","decodeURIComponent","escape","charCodeAt","String","fromCharCode","charenc_1","isBuffer_1","obj","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","require$$0","require$$1","require$$2","md5","message","options","encoding","prototype","isArray","Uint8Array","m","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","md5Module","Error","digestbytes","asBytes","asString","TAB_CONTAINER_MOUNT_CLASS","TAB_IFRAME_LEAVE_CLASS","TAB_IFRAME_FADEIN_CLASS","TAB_ID_KEY","TAB_URL_KEY","TAB_CACHE_KEY","SIDEBARCOLOR_CACHE_KEY","HEADERCOLOR_CACHE_KEY","TAB_ITEM","TAB_ITEM_CLOSE","TAB_IFRAME","Default","consoleLog","defaultTabs","tabFadein","tabCache","sideMenuClickClose","tabActiveOpenInSideMenuLocation","tabDefault","title","url","id","close","Main","config","_config","Object","assign","_init","_proto","_advert","_addEventListener","restoreColor","_tabInit","sidebarcolor","localStorage","getItem","headercolor","documentElement","classList","add","_this$_tab_container$","_tab_container","querySelector","tabEl","insertAdjacentHTML","TAB_UPPER_HALF_TPL","_tab_wraper","_tab_content_wraper","_buildContextmenu","_addTabEventListener","_restoreTabs","_this2","_isOpenCacheTab","_getCacheTabs","_echoCacheAllTabs","option","addTab","_clearCacheTabsAll","_this3","tabFrag","createDocumentFragment","tabHTML","_formatString","appendChild","activeTabById","_getActivatedCacheTabId","clearCache","removeItem","tabs","JSON","parse","_contextmenu_wraper","getAttribute","innerText","screen","availWidth","closeSideMenu","stopPropagation","activeTab","getActivatedTab","deltaY","preTab","previousElementSibling","nextTab","nextElementSibling","closeTabById","_canRemoveTabById","style","display","top","clientY","left","clientX","Dropdown","getOrCreateInstance","hide","item","_closeTabsContextmenu","window","tabActionsDropdown","remove","_contextmenuRefresh","_contextmenuClose","_contextmenuCloseOther","scrollLeft","offsetWidth","getActivatedTabId","_refreshTabById","_closeAllTabExceptForId","closeAllTabs","_this4","tab","_removeTabById","firstTab","firstChild","_this5","forEachId","findTabById","ifr","findIframeById","_removeCacheTabById","iframe","contentWindow","location","reload","_addIframeByTab","result","cacheTabs","index","splice","setItem","stringify","contains","willActiveId","iframeHTML","iframeDom","util","_addTabToCache","_activeCacheTabById","active","btn","hasOwnProperty","_this6","btnEl","iframeEl","scrollToTabById","tabId","_a$classList","_openMenu","scrollTo","offsetTop","behavior","ul","aHasChildren","offsetLeft","results","data","matchingStr","group1","removeAttribute","_menuToggle","li","openA","activeA","_document$documentEle","sidebarcolorList","_document$documentEle2","headercolorList","ulSh","scrollHeight","cssText","console","log","Toast","_element","run"],"mappings":"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"}