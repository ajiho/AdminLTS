{"version":3,"file":"bootstrap-admin.min.js","sources":["../../build/js/Util.js","../../build/js/Reboot.js","../../node_modules/crypt/crypt.js","../../node_modules/charenc/charenc.js","../../node_modules/is-buffer/index.js","../../node_modules/md5/md5.js","../../build/js/Main.js","../../build/js/Modal.js","../../build/js/Toast.js"],"sourcesContent":["export default {\r\n    //事件委托\r\n    delegate(element, type, selector, fn, exceptSelector) {\r\n        element.addEventListener(type, function (e) {\r\n            let target = e.target;\r\n            let currTarget = e.currentTarget;\r\n            while (target !== currTarget && (target instanceof HTMLElement)) {\r\n                if (target.matches(selector)) {\r\n                    fn.call(target, e);\r\n                    break;\r\n                } else if (target.matches(exceptSelector)) {\r\n                    break;\r\n                }\r\n                target = target.parentNode;\r\n            }\r\n        }, false);\r\n    },\r\n\r\n\r\n    /**\r\n     * 原生js实现jq的siblings()方法\r\n     * @param element\r\n     * @param selector\r\n     * @returns {*[]}\r\n     */\r\n    siblings(element, selector) {\r\n        selector = selector || false;\r\n        //先获取到当前传入的元素的所有父元素的子集\r\n        let pChildren = element.parentNode.children;\r\n        let eleMatch = [];\r\n        //遍历把自己干掉\r\n        for (let children of pChildren) {\r\n            if (children instanceof HTMLElement) {\r\n                if (selector) {//如果为真，说明传入选择器\r\n                    if (children !== element && children.matches(selector)) {\r\n                        eleMatch.push(children);\r\n                    }\r\n                } else {//没有传入\r\n                    if (children !== element) {\r\n                        eleMatch.push(children);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return eleMatch;\r\n    },\r\n\r\n\r\n    /**\r\n     * 通过字符串创建节点\r\n     * @param htmlStr\r\n     * @returns {Element}\r\n     */\r\n    createNode(htmlStr) {\r\n        let div = document.createElement(\"div\");\r\n        div.innerHTML = htmlStr;\r\n        return div.children[0];\r\n    },\r\n\r\n\r\n    /**\r\n     * 节流函数\r\n     * @param func\r\n     * @param wait\r\n     * @returns {(function(...[*]): void)|*}\r\n     */\r\n    debounce(func, wait = 500) {\r\n        let timeID;\r\n        return function (...args) {\r\n            if (timeID) clearTimeout(timeID);\r\n            timeID = setTimeout(() => {\r\n                func.apply(this, args);\r\n            }, wait);\r\n        }\r\n    }\r\n\r\n}","import Util from \"./Util\";\r\n\r\nUtil.delegate(document.body, 'change', '.bsa-check-all', function (event) {\r\n    let target = event.target;\r\n\r\n    document.querySelectorAll(\"input[type='checkbox']\").forEach((input) => {\r\n        input.checked = target.checked;\r\n    })\r\n});\r\n\r\n\r\n//bootstrap气泡组件初始化\r\n[].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]')).map(function (popoverTriggerEl) {\r\n    return new bootstrap.Popover(popoverTriggerEl)\r\n});\r\n//bootstrap提示组件初始化\r\n[].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]')).map(function (tooltipTriggerEl) {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl)\r\n});\r\n\r\n//优化:使无效表单禁止提交\r\ndocument.querySelectorAll('form:not([action]),form[action=\"#\"]').forEach(function (form) {\r\n    form.addEventListener('submit', event => {\r\n        event.preventDefault();\r\n    });\r\n});\r\n\r\n//优化:禁止所有的input记忆输入内容\r\ndocument.querySelectorAll('input').forEach((e) => {\r\n    e.setAttribute(\"AutoComplete\", \"off\");\r\n});","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/**\r\n * --------------------------------------------\r\n * BSA Main.js\r\n * License MIT\r\n * --------------------------------------------\r\n */\r\n\r\n\r\nimport Util from \"./Util\";\r\nimport md5 from \"md5\";\r\nimport util from \"./Util\";\r\n\r\n\r\nconst TAB_CONTAINER_MOUNT_CLASS = ['h-100', 'd-flex', 'flex-column', 'bsa-tabs'];\r\nconst TAB_IFRAME_LEAVE_CLASS = 'out';\r\nconst TAB_IFRAME_FADEIN_CLASS = 'fadeIn';\r\nconst TAB_ID_KEY = 'data-tab-id';\r\nconst TAB_URL_KEY = 'data-tab-url';\r\nconst TAB_CACHE_KEY = 'tabs';\r\n\r\nconst SIDEBARCOLOR_CACHE_KEY = 'sidebarcolor';\r\nconst HEADERCOLOR_CACHE_KEY = 'headercolor';\r\n\r\n\r\nconst TAB_LEFT = `<li class=\"nav-item caret-btn caret-btn-left  border-end\" role=\"presentation\"><button class=\"nav-link\" style=\"width: 50px\"><i class=\"bi bi-caret-left\"></i></button></li>`;\r\nconst TAB_ROLL_AREA = `<li class=\"nav-item flex-grow-1 d-flex flex-nowrap align-items-center position-relative\" role=\"presentation\"></li>`;\r\nconst TAB_ACTIONS = `\r\n                    <li class=\"nav-item caret-btn border-start dropdown\" role=\"presentation\">\r\n                        <button class=\"nav-link\" style=\"width: 50px\" data-bs-toggle=\"dropdown\"><i class=\"bi bi-caret-down\"></i></button>\r\n                        <ul class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li>\r\n                                <button class=\"dropdown-item rollback-current\" type=\"button\">回到当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item refresh-current\" type=\"button\">刷新当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-current\" type=\"button\">关闭当前</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-other\" type=\"button\">关闭其他</button>\r\n                            </li>\r\n                            <li>\r\n                                <button class=\"dropdown-item close-all\" type=\"button\">关闭全部</button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n`;\r\nconst TAB_RIGHT = `<li class=\"nav-item caret-btn caret-btn-right  border-start\" role=\"presentation\"><button class=\"nav-link\" style=\"width: 50px\"><i class=\"bi bi-caret-right\"></i></button></li>`;\r\n\r\nconst TAB_UPPER_HALF_TPL = `<ul class=\"nav nav-pills border flex-nowrap\" role=\"tablist\">${TAB_LEFT}${TAB_ROLL_AREA}${TAB_ACTIONS}${TAB_RIGHT}</ul>`;\r\nconst TAB_LOWER_HALF_TPL = `<div class=\"flex-grow-1 position-relative\"></div>`;\r\n\r\n\r\nconst TAB_ITEM = `<button class=\"nav-link  border flex-shrink-0\" ${TAB_URL_KEY}=\"{{url}}\"  ${TAB_ID_KEY}=\"{{id}}\" type=\"button\">{{title}}</button>`\r\nconst TAB_ITEM_CLOSE = `<button class=\"nav-link border flex-shrink-0\" ${TAB_URL_KEY}=\"{{url}}\" ${TAB_ID_KEY}=\"{{id}}\" type=\"button\">{{title}}<i class=\"bi bi-x  closetab\"></i></button>`\r\n\r\nconst TAB_IFRAME = `<iframe src=\"{{url}}\" class=\"w-100 h-100 d-inline-block  ${TAB_IFRAME_LEAVE_CLASS}\" ${TAB_ID_KEY}=\"{{id}}\"></iframe>`;\r\n\r\n\r\n//右键菜单的容器\r\nconst TBA_CONTEXTMENU_TPL = `\r\n            <div class=\"list-group bsa-contextmenu shadow-sm\">\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action refresh\">刷新</button>\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action close\">关闭</button>\r\n                <button type=\"button\" class=\"list-group-item list-group-item-action close-other\">关闭其它</button>\r\n            </div>`;\r\n\r\n\r\nconst Default = {\r\n    //控制台广告\r\n    consoleLog: true,\r\n    //tab组件挂载元素\r\n    tabEl: '.bsa-main',\r\n    //默认初始化的tab\r\n    defaultTabs: [],\r\n    //淡入动画\r\n    tabFadein: true,\r\n    //tab缓存\r\n    tabCache: true,\r\n    //点击左侧菜单项后是否立马关闭(仅在iframe模式下有效)\r\n    sideMenuClickClose: false,\r\n    //tab激活展开侧边栏导航对应的位置\r\n    tabActiveOpenInSideMenuLocation: true,\r\n}\r\n\r\n\r\n//单个tab的默认选项\r\nconst tabDefault = {\r\n    //标题\r\n    title: \"\",\r\n    //连接\r\n    url: '',\r\n    //tab唯一标志\r\n    id: null,\r\n    //是否可以关闭\r\n    close: true\r\n}\r\n\r\n\r\nclass Main {\r\n\r\n    constructor(config) {\r\n        //参数合并\r\n        this._config = Object.assign({}, Default, config)\r\n        this._init()\r\n    }\r\n\r\n    _init() {\r\n\r\n        //广告是否输出\r\n        if (this._config.consoleLog === true) {\r\n            this._advert();\r\n        }\r\n\r\n        //事件处理\r\n        this._addEventListener();\r\n\r\n        //主题色回显\r\n        this.restoreColor();\r\n\r\n        //tab初始化\r\n        this._tabInit();\r\n    }\r\n\r\n\r\n    restoreColor() {\r\n\r\n        let sidebarcolor = localStorage.getItem(SIDEBARCOLOR_CACHE_KEY);\r\n        let headercolor = localStorage.getItem(HEADERCOLOR_CACHE_KEY);\r\n        if (sidebarcolor !== null) {\r\n            document.documentElement.classList.add(\"color-sidebar\", sidebarcolor);\r\n        }\r\n        if (headercolor !== null) {\r\n            document.documentElement.classList.add(\"color-header\", headercolor);\r\n        }\r\n    }\r\n\r\n\r\n    _tabInit() {\r\n        //容器\r\n        this._tab_container = document.querySelector(this._config.tabEl);\r\n        //检测是否是一个正常的dom元素\r\n        if (this._tab_container instanceof HTMLElement) {\r\n\r\n\r\n            //继续执行下面的逻辑\r\n            this._tab_container.classList.add(...TAB_CONTAINER_MOUNT_CLASS);\r\n            //加入到容器中\r\n            this._tab_container.insertAdjacentHTML(\"beforeEnd\", `${TAB_UPPER_HALF_TPL}${TAB_LOWER_HALF_TPL}`);\r\n            //单个tab的容器\r\n            this._tab_wraper = this._tab_container.querySelector(`li.flex-grow-1`);\r\n            //单个tab面板的容器\r\n            this._tab_content_wraper = this._tab_container.querySelector(`div.flex-grow-1`);\r\n\r\n            //构建右键菜单\r\n            this._buildContextmenu();\r\n\r\n            //事件监听\r\n            this._addTabEventListener();\r\n\r\n            //tab回显\r\n            this._restoreTabs();\r\n        }\r\n    }\r\n\r\n    _restoreTabs() {\r\n\r\n        //判断选项是否开启缓存\r\n        if (this._isOpenCacheTab()) {\r\n            //从缓存里面读\r\n            let cacheTabs = this._getCacheTabs();\r\n\r\n            if (cacheTabs.length !== 0) {\r\n\r\n                //回显缓存中所有的tab\r\n                this._echoCacheAllTabs();\r\n\r\n\r\n            } else {//缓存没有则加载默认tab\r\n                this._config.defaultTabs.forEach((option) => {\r\n                    this.addTab(option);\r\n                });\r\n            }\r\n        } else {\r\n\r\n            //删除缓存\r\n            this._clearCacheTabsAll();\r\n\r\n            //然后添加传递进来的默认tab选项\r\n            this._config.defaultTabs.forEach((option) => {\r\n                this.addTab(option);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 回显缓存中的所有tab\r\n     * @private\r\n     */\r\n    _echoCacheAllTabs() {\r\n        //创建两个虚拟节点\r\n        let tabFrag = document.createDocumentFragment();\r\n        // let iframeFrag = document.createDocumentFragment();\r\n        let cacheTabs = this._getCacheTabs();\r\n\r\n        //这里只添加所有的tab，不添加iframe,否则全部加载iframe将会卡爆\r\n        cacheTabs.forEach((option) => {\r\n            //添加tab\r\n            let tabHTML = option.close ? this._formatString(TAB_ITEM_CLOSE, option) : this._formatString(TAB_ITEM, option);\r\n            tabFrag.appendChild(Util.createNode(tabHTML));\r\n\r\n        });\r\n\r\n        this._tab_wraper.appendChild(tabFrag);\r\n\r\n\r\n        //激活tab\r\n        let id = this._getActivatedCacheTabId();\r\n        //激活tab\r\n        this.activeTabById(id);\r\n        //展开对应的左侧区域\r\n        this._openLeftMenuByid(id);\r\n        //滚动到指定的位置\r\n        this.scrollToTabById(id);\r\n\r\n    }\r\n\r\n\r\n    // 清除缓存\r\n    clearCache() {\r\n        localStorage.removeItem(TAB_CACHE_KEY);\r\n        localStorage.removeItem(HEADERCOLOR_CACHE_KEY);\r\n        localStorage.removeItem(SIDEBARCOLOR_CACHE_KEY);\r\n    }\r\n\r\n    /**\r\n     * 判断是否开启缓存\r\n     * @private\r\n     */\r\n    _isOpenCacheTab() {\r\n        return this._config.tabCache === true;\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取缓存中的所有tab\r\n     * @returns {*[]}\r\n     * @private\r\n     */\r\n    _getCacheTabs() {\r\n        let tabs = JSON.parse(localStorage.getItem(TAB_CACHE_KEY));\r\n        if (tabs === null) {\r\n            tabs = [];\r\n        }\r\n        return tabs;\r\n    }\r\n\r\n\r\n    /**\r\n     * 清空缓存中所有的tab\r\n     * @private\r\n     */\r\n    _clearCacheTabsAll() {\r\n        localStorage.removeItem(TAB_CACHE_KEY);\r\n    }\r\n\r\n\r\n    //构建右键菜单\r\n    _buildContextmenu() {\r\n        //加入到body\r\n        document.body.insertAdjacentHTML(\"beforeEnd\", TBA_CONTEXTMENU_TPL);\r\n        //找到这个容器\r\n        this._contextmenu_wraper = document.querySelector(`.bsa-contextmenu`);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id同时激活和展开左侧的菜单\r\n     * @param id\r\n     * @private\r\n     */\r\n    _openLeftMenuByid(id) {\r\n\r\n        if (this._config.tabActiveOpenInSideMenuLocation === true) {\r\n\r\n            //展开左侧指定区域\r\n            let tabId = id;\r\n\r\n            //先把所有的激活状态移除和闭合掉\r\n            document.querySelectorAll('.bsa-sidebar-body > ul a').forEach((a) => {\r\n                a.classList.remove(...['open', 'active'])\r\n            })\r\n\r\n\r\n            //找到当前tab的左侧菜单项目,激活、展开\r\n            document.querySelectorAll('.bsa-sidebar-body > ul a').forEach((a) => {\r\n                let url = md5(a.getAttribute('href'));\r\n                if (url === tabId) {\r\n                    a.classList.add('active');\r\n                    this._openMenu(a);\r\n\r\n                    document.querySelector('.bsa-sidebar-body').scrollTo({\r\n                        top: a.offsetTop,\r\n                        behavior: \"auto\"\r\n                    })\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    //tab的事件监听\r\n    _addTabEventListener() {\r\n\r\n        let _this = this;\r\n\r\n\r\n        //其它任意元素生成tab\r\n        Util.delegate(document.body, 'click', '[data-bsa-tab-url][data-bsa-tab-title]', function (e) {\r\n            e.preventDefault();\r\n\r\n            let url = this.getAttribute('data-bsa-tab-url');\r\n            let title = this.getAttribute('data-bsa-tab-title');\r\n            _this.addTab({\r\n                title,\r\n                url,\r\n                close: true,\r\n            });\r\n\r\n        });\r\n\r\n        //适配左侧菜单点击生成tab\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-body > ul a:not(.has-children):not([target])', function (event) {\r\n            event.preventDefault();\r\n            let a = this;\r\n            //得到当前a链接的href\r\n            let url = a.getAttribute('href');\r\n            let title = a.innerText;\r\n\r\n\r\n            _this.addTab({\r\n                title,\r\n                url,\r\n                close: true,\r\n            });\r\n\r\n            if (_this._config.sideMenuClickClose === true) {\r\n                if (screen.availWidth < 992) {\r\n                    _this.closeSideMenu();\r\n                }\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n        //点击tab处理\r\n        Util.delegate(_this._tab_wraper, 'click', 'button.nav-link', function () {\r\n\r\n            let id = this.getAttribute(TAB_ID_KEY);\r\n            _this.scrollToTabById(id);\r\n            _this.activeTabById(id);\r\n            _this._openLeftMenuByid(id);\r\n\r\n        }, '.closetab');\r\n\r\n\r\n        //tab关闭\r\n        Util.delegate(_this._tab_wraper, 'click', '.closetab', function () {\r\n            // self.closeTabByPageId(pageid);\r\n            // console.log(this.parentNode)\r\n            _this.closeTabById(this.parentNode.getAttribute(TAB_ID_KEY));\r\n\r\n        });\r\n\r\n        //tab右键\r\n        Util.delegate(_this._tab_wraper, 'contextmenu', 'button.nav-link', function (e) {\r\n            e.preventDefault();\r\n\r\n            let tab = this;\r\n            let id = tab.getAttribute(TAB_ID_KEY);\r\n\r\n\r\n            //同时查看是否需要显示关闭选项\r\n            if (_this._canRemoveTabById(id)) {\r\n                _this._contextmenu_wraper.querySelector('.close').style.display = 'block';\r\n            } else {\r\n                _this._contextmenu_wraper.querySelector('.close').style.display = 'none';\r\n            }\r\n\r\n            _this._contextmenu_wraper.style.top = `${e.clientY}px`;\r\n            _this._contextmenu_wraper.style.left = `${e.clientX}px`;\r\n            _this._contextmenu_wraper.style.display = 'block';\r\n\r\n            //同时给iframe窗口禁用所有的鼠标事件\r\n            _this._tab_container.classList.add('pen');\r\n\r\n            //获取dw的示例对象\r\n            let tabActionsDropdown = bootstrap.Dropdown.getOrCreateInstance(_this._tab_container.querySelector('ul>li.dropdown>button'));\r\n            tabActionsDropdown.hide();\r\n\r\n            //把所有的id都给遍历给右键菜单的每一项\r\n            _this._contextmenu_wraper.querySelectorAll('button.list-group-item').forEach(function (item) {\r\n                item.setAttribute(TAB_ID_KEY, id);\r\n            })\r\n\r\n        }, '.closetab');\r\n\r\n\r\n        //点击任何区域左键单击都关闭\r\n        document.addEventListener('click', function () {\r\n            _this._closeTabsContextmenu();\r\n        })\r\n\r\n        //监听窗口变化也要让右键菜单消失\r\n        window.addEventListener('resize', Util.debounce(function () {\r\n            _this._closeTabsContextmenu();\r\n        }, 60))\r\n\r\n\r\n        //更多操作的下拉菜单\r\n        const tabActionsDropdown = _this._tab_container.querySelector('ul>li.dropdown>button');\r\n        tabActionsDropdown.addEventListener('show.bs.dropdown', event => {\r\n            _this._tab_container.classList.add('pen2');\r\n        })\r\n        //更多操作下拉菜单关闭移除\r\n        tabActionsDropdown.addEventListener('hide.bs.dropdown', event => {\r\n            _this._tab_container.classList.remove('pen2');\r\n        })\r\n\r\n\r\n        //tab右键刷新左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.refresh', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuRefresh(this);\r\n        });\r\n\r\n        //tab右键刷新右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.refresh', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuRefresh(this);\r\n        });\r\n\r\n\r\n        //右键菜单-关闭左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.close', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuClose(this)\r\n\r\n        });\r\n\r\n        //右键菜单-关闭右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.close', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuClose(this)\r\n\r\n        });\r\n\r\n\r\n        //右键菜单-关闭其它左击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'click', '.close-other', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuCloseOther(this)\r\n\r\n        });\r\n\r\n        //右键菜单-关闭其它右击处理\r\n        Util.delegate(_this._contextmenu_wraper, 'contextmenu', '.close-other', function (e) {\r\n            e.preventDefault();\r\n            _this._contextmenuCloseOther(this)\r\n        });\r\n\r\n\r\n        //左滑动按钮被单击\r\n        Util.delegate(_this._tab_container, 'click', '.caret-btn-left', function () {\r\n            _this._tab_wraper.scrollLeft = _this._tab_wraper.scrollLeft - _this._tab_wraper.offsetWidth;\r\n        });\r\n\r\n\r\n        //右滑动按钮被单击\r\n        Util.delegate(_this._tab_container, 'click', '.caret-btn-right', function () {\r\n            _this._tab_wraper.scrollLeft = _this._tab_wraper.scrollLeft + _this._tab_wraper.offsetWidth;\r\n        });\r\n\r\n\r\n        //回到当前\r\n        Util.delegate(_this._tab_container, 'click', '.rollback-current', function () {\r\n            _this.scrollToTabById(_this.getActivatedTabId());\r\n        });\r\n\r\n\r\n        //刷新当前\r\n        Util.delegate(_this._tab_container, 'click', '.refresh-current', function () {\r\n            _this._refreshTabById(_this.getActivatedTabId());\r\n        });\r\n\r\n        //关闭当前\r\n        Util.delegate(_this._tab_container, 'click', '.close-current', function () {\r\n\r\n            //得到当前激活的id\r\n            let id = _this.getActivatedTabId();\r\n            if (_this._canRemoveTabById(id)) {//判断能不能删除\r\n                _this.closeTabById(id)\r\n            }\r\n        });\r\n\r\n\r\n        //关闭其它\r\n        Util.delegate(_this._tab_container, 'click', '.close-other', function () {\r\n            _this._closeAllTabExceptForId(_this.getActivatedTabId());\r\n        });\r\n\r\n\r\n        //关闭全部\r\n        Util.delegate(_this._tab_container, 'click', '.close-all', function () {\r\n            _this.closeAllTabs();\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 右键菜单-刷新按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuRefresh(element) {\r\n        this._refreshTabById(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n    }\r\n\r\n    /**\r\n     * 右键菜单-关闭按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuClose(element) {\r\n        this.closeTabById(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n\r\n    }\r\n\r\n    /**\r\n     * 右键菜单-关闭其它按钮-处理程序\r\n     * @private\r\n     */\r\n    _contextmenuCloseOther(element) {\r\n        this._closeAllTabExceptForId(element.getAttribute(TAB_ID_KEY));\r\n        this._closeTabsContextmenu()\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭所有的tab\r\n     */\r\n    closeAllTabs() {\r\n\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((tab) => {\r\n            let id = tab.getAttribute(TAB_ID_KEY);\r\n\r\n            if (this._canRemoveTabById(id)) {\r\n\r\n                this._removeTabById(id);\r\n\r\n            }\r\n        });\r\n\r\n        //选中那些禁止删除的取第一个,将其激活\r\n        let firstTab = this._tab_wraper.firstChild;\r\n        if (firstTab instanceof HTMLElement) {\r\n            this.activeTabById(firstTab.getAttribute(TAB_ID_KEY));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭除了传递进来的id的所有tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _closeAllTabExceptForId(id) {\r\n\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((tab) => {\r\n\r\n            let forEachId = tab.getAttribute(TAB_ID_KEY);\r\n\r\n            if (forEachId !== id && this._canRemoveTabById(forEachId)) {//如果不相等，且tab可以被删除的情况下\r\n                this._removeTabById(forEachId);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id直接删除tab(包括iframe)\r\n     * @param id\r\n     * @private\r\n     */\r\n    _removeTabById(id) {\r\n        let tab = this.findTabById(id);\r\n        let ifr = this.findIframeById(id);\r\n        tab.remove();\r\n        this._removeCacheTabById(id);\r\n        if (ifr instanceof HTMLElement) {\r\n            ifr.remove();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据id刷新tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _refreshTabById(id) {\r\n\r\n        let iframe = this.findIframeById(id);\r\n        if (!(iframe instanceof HTMLElement)) {//如果没有就加入iframe\r\n\r\n            //添加iframe\r\n            let tab = this.findTabById(id);\r\n            this._addIframeByTab(tab)\r\n\r\n        } else {//如果有就正常刷新逻辑\r\n\r\n            if (this._config.tabFadein === true) {//查看是否需要淡入\r\n                iframe.classList.remove('fadeIn');\r\n                void iframe.offsetWidth;\r\n                iframe.contentWindow.location.reload();\r\n                iframe.classList.add('fadeIn');\r\n            } else {\r\n                iframe.contentWindow.location.reload();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    //关闭TAB的右键菜单\r\n    _closeTabsContextmenu() {\r\n        this._contextmenu_wraper.style.display = 'none';\r\n        this._tab_container.classList.remove('pen');\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据id判断能否删除\r\n     * @param id\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    _canRemoveTabById(id) {\r\n        let result = false;\r\n        if (this.findTabById(id).querySelector(\".bi-x\") instanceof HTMLElement) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * 删除缓存中的tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _removeCacheTabById(id) {\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((tab, index) => {\r\n            if (tab.id === id) {\r\n                cacheTabs.splice(index, 1)\r\n            }\r\n        })\r\n        //重新设置回去\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id关闭tab选项卡\r\n     * @param id\r\n     */\r\n    closeTabById(id) {\r\n\r\n        let tab = this.findTabById(id);\r\n        if (tab.classList.contains('active')) {//判断是否是激活的tab\r\n            //把active传递给其它的tab\r\n            let willActiveId = null;\r\n            if (tab.nextElementSibling instanceof HTMLElement) {//后面有tab\r\n                //得到后面tab的pageid作为将要激活的tab id\r\n                willActiveId = tab.nextElementSibling.getAttribute(TAB_ID_KEY);\r\n            } else if (tab.previousElementSibling instanceof HTMLElement) { //看看前面是否有tab\r\n\r\n                willActiveId = tab.previousElementSibling.getAttribute(TAB_ID_KEY);\r\n            }\r\n\r\n            //先删除再滚动\r\n            this._removeTabById(id)\r\n            if (willActiveId) {//如果该id存在就激活\r\n\r\n                //激活\r\n                this.activeTabById(willActiveId);\r\n            }\r\n\r\n        } else {\r\n\r\n            this._removeTabById(id)\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    //添加tab\r\n    addTab(option) {\r\n\r\n        if (this._tab_container instanceof HTMLElement) {\r\n\r\n            //参数合并\r\n            option = Object.assign({}, tabDefault, option)\r\n            option.id = md5(option.url);\r\n\r\n\r\n            if (this.findTabById(option.id) === null) {//如果没有则添加\r\n\r\n                //添加tab\r\n                let tabHTML = option.close ? this._formatString(TAB_ITEM_CLOSE, option) : this._formatString(TAB_ITEM, option);\r\n                this._tab_wraper.insertAdjacentHTML(\"beforeEnd\", tabHTML);\r\n\r\n                //添加iframe\r\n                let iframeHTML = this._formatString(TAB_IFRAME, option)\r\n                let iframeDom = util.createNode(iframeHTML);\r\n                //判断是否需要加淡入动画\r\n                if (this._config.tabFadein === true) {\r\n                    iframeDom.classList.add(TAB_IFRAME_FADEIN_CLASS);\r\n                }\r\n                this._tab_content_wraper.appendChild(iframeDom);\r\n\r\n\r\n                //同时也添加进缓存\r\n                if (this._isOpenCacheTab()) {\r\n                    this._addTabToCache(option);\r\n                }\r\n            }\r\n\r\n            //滚动到该位置\r\n            this.scrollToTabById(option.id)\r\n            //激活tab\r\n            this.activeTabById(option.id);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 激活缓存中的tab\r\n     * @param id\r\n     * @private\r\n     */\r\n    _activeCacheTabById(id) {\r\n        //激活前删除所有的激活样式\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((option) => {\r\n            option.active = option.id === id;\r\n        });\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加tab进缓存\r\n     * @param option\r\n     * @private\r\n     */\r\n    _addTabToCache(option) {\r\n        //先取\r\n        let cacheTabs = this._getCacheTabs();\r\n        //追加属性 active\r\n        option.active = false;\r\n        cacheTabs.push(option)\r\n        //重新设置回去\r\n        localStorage.setItem(TAB_CACHE_KEY, JSON.stringify(cacheTabs));\r\n    }\r\n\r\n\r\n    /**\r\n     * 得到当前激活tab的id\r\n     * @returns {null}\r\n     */\r\n    getActivatedTabId() {\r\n        let id = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(btn => {\r\n            if (btn.classList.contains('active')) {\r\n                id = btn.getAttribute(TAB_ID_KEY);\r\n            }\r\n        })\r\n        return id;\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取缓冲中激活的tab\r\n     * @returns {null}\r\n     * @private\r\n     */\r\n    _getActivatedCacheTabId() {\r\n        let id = null;\r\n        let cacheTabs = this._getCacheTabs();\r\n        cacheTabs.forEach((option) => {\r\n            if (option.hasOwnProperty('active') && option.active === true) {\r\n                id = option.id;\r\n            }\r\n        })\r\n        return id;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 得到当前激活tab\r\n     * @returns {null}\r\n     */\r\n    getActivatedTab() {\r\n        let tab = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(btn => {\r\n            if (btn.classList.contains('active')) {\r\n                tab = btn;\r\n            }\r\n        })\r\n        return tab;\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过tab添加iframe\r\n     * @private\r\n     */\r\n    _addIframeByTab(tabEl) {\r\n        //添加iframe\r\n        let option = {id: tabEl.getAttribute(TAB_ID_KEY), url: tabEl.getAttribute(TAB_URL_KEY)};\r\n        let iframeHTML = this._formatString(TAB_IFRAME, option)\r\n        let iframeDom = util.createNode(iframeHTML);\r\n        //判断是否需要加淡入动画\r\n        if (this._config.tabFadein === true) {\r\n            iframeDom.classList.add(TAB_IFRAME_FADEIN_CLASS);\r\n        }\r\n        this._tab_content_wraper.appendChild(iframeDom);\r\n    }\r\n\r\n    /**\r\n     * 通过id激活tab\r\n     * @param id\r\n     */\r\n    activeTabById(id) {\r\n\r\n\r\n        //同时激活缓存中的tab选项\r\n        if (this._isOpenCacheTab()) {\r\n            this._activeCacheTabById(id);\r\n        }\r\n\r\n        //激活前删除所有的激活样式\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach(function (btnEl) {\r\n            btnEl.classList.remove('active');\r\n        })\r\n\r\n\r\n        //把所有的iframe都移除出去\r\n        this._tab_content_wraper.querySelectorAll('iframe').forEach(function (iframeEl) {\r\n            iframeEl.classList.add(TAB_IFRAME_LEAVE_CLASS);\r\n        });\r\n\r\n        //给当前tab添加激活样式\r\n        let tab = this.findTabById(id);\r\n        tab.classList.add('active');\r\n\r\n\r\n        //把当前面板激活\r\n        let iframe = this.findIframeById(id);\r\n        if (!(iframe instanceof HTMLElement)) {\r\n            this._addIframeByTab(tab)\r\n        }\r\n\r\n        //再次查找iframe并激活\r\n        this.findIframeById(id).classList.remove(TAB_IFRAME_LEAVE_CLASS)\r\n\r\n        //滚动到指定tab\r\n        // this.scrollToTabById(id);\r\n\r\n    }\r\n\r\n\r\n    _openMenu(a) {\r\n        let ul = a.parentNode.parentNode\r\n        let aHasChildren = Util.siblings(ul, 'a.has-children')[0];\r\n        if (!(aHasChildren instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n        aHasChildren.classList.add('open');\r\n        return this._openMenu(aHasChildren);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id滚动到指定的tab\r\n     * @param id\r\n     */\r\n    scrollToTabById(id) {\r\n        let tab = this.findTabById(id);\r\n        // 获取到当前点击元素的 offsetLeft  - 包裹盒子 offsetWidth 的一半 + 当前点击元素 offsetWidth 的一半\r\n        this._tab_wraper.scrollLeft = tab.offsetLeft - this._tab_wraper.offsetWidth / 2 + tab.offsetWidth / 2;\r\n        //关闭右键菜单\r\n        this._closeTabsContextmenu();\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id找到iframe\r\n     * @param id\r\n     * @returns {null}\r\n     */\r\n    findIframeById(id) {\r\n        let results = null;\r\n        this._tab_content_wraper.querySelectorAll('iframe').forEach((iframeEl) => {\r\n            if (iframeEl.getAttribute(TAB_ID_KEY) === id) {\r\n                results = iframeEl;\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n     * 通过id找到tab\r\n     * @param id\r\n     * @returns {null}\r\n     */\r\n    findTabById(id) {\r\n        let results = null;\r\n        this._tab_wraper.querySelectorAll('button.nav-link').forEach((btnEl) => {\r\n            if (btnEl.getAttribute(TAB_ID_KEY) === id) {\r\n                results = btnEl;\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n     * 格式化模板数据\r\n     * @param str\r\n     * @param data\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    _formatString(str, data) {\r\n        return str.replace(/{{(\\w+)}}/g, function (matchingStr, group1) {\r\n            return data[group1];\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //事件监听\r\n    _addEventListener() {\r\n        let _this = this;\r\n\r\n\r\n        //清空缓存\r\n        Util.delegate(document.body, 'click', '.bsa-clear-cache', function (e) {\r\n            e.preventDefault();\r\n            _this.clearCache();\r\n        });\r\n\r\n\r\n        //左侧菜单展开必须移除style\r\n        Util.delegate(document.body, 'transitionend', '.bsa-sidebar-body > ul', function (event) {\r\n            let target = event.target;\r\n            if (target.matches('ul')) {\r\n                target.removeAttribute('style');\r\n            }\r\n        });\r\n\r\n        //左侧菜单展开折叠逻辑\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-body > ul a.has-children', function (event) {\r\n            event.preventDefault();\r\n            let a = this;\r\n            if (!(a.classList.contains('open'))) {//展开\r\n                a.classList.add('open');\r\n                _this._menuToggle(a, 1);\r\n            } else {\r\n                _this._menuToggle(a, 0);\r\n                a.classList.remove('open');\r\n            }\r\n            // 兄弟节点处理\r\n            Util.siblings(a.parentNode).forEach((li) => {\r\n\r\n                let openA = li.querySelector('a.has-children.open');\r\n                if (openA instanceof HTMLElement) {\r\n                    _this._menuToggle(openA, 0);\r\n                    openA.classList.remove('open');\r\n                }\r\n\r\n                let activeA = li.querySelector('a.active');\r\n                if (activeA instanceof HTMLElement) {\r\n                    activeA.classList.remove('active');\r\n                }\r\n\r\n\r\n            })\r\n        });\r\n\r\n\r\n        //调色板侧边栏\r\n        Util.delegate(document.body, 'click', 'div[class^=sidebarcolor]', function (event) {\r\n            event.preventDefault();\r\n            let sidebarcolor = this.getAttribute('class');\r\n\r\n            let sidebarcolorList = [];\r\n            for (let i = 0; i < 8; i++) {\r\n                sidebarcolorList.push(`sidebarcolor${i + 1}`);\r\n            }\r\n\r\n            if (sidebarcolor === \"sidebarcolor0\") {\r\n                //从缓存中移除\r\n                localStorage.removeItem(SIDEBARCOLOR_CACHE_KEY);\r\n                document.documentElement.classList.remove(\"color-sidebar\");\r\n                sidebarcolorList.map(function (item) {\r\n                    document.documentElement.classList.remove(item);\r\n                });\r\n            } else {\r\n                //存入缓存\r\n                localStorage.setItem(SIDEBARCOLOR_CACHE_KEY, sidebarcolor);\r\n                document.documentElement.classList.add(\"color-sidebar\", sidebarcolor);\r\n                sidebarcolorList.splice(sidebarcolorList.indexOf(sidebarcolor), 1);\r\n                document.documentElement.classList.remove(...sidebarcolorList);\r\n            }\r\n        });\r\n\r\n\r\n        //调色板头部\r\n        Util.delegate(document.body, 'click', 'div[class^=headercolor]', function (event) {\r\n            event.preventDefault();\r\n\r\n            let headercolor = this.getAttribute('class');\r\n            let headercolorList = [];\r\n            for (let i = 0; i < 8; i++) {\r\n                headercolorList.push(`headercolor${i + 1}`);\r\n            }\r\n\r\n            if (headercolor === \"headercolor0\") {\r\n                //删除缓存\r\n                localStorage.removeItem(HEADERCOLOR_CACHE_KEY);\r\n                document.documentElement.classList.remove(\"color-header\");\r\n                headercolorList.map(function (item) {\r\n                    document.documentElement.classList.remove(item);\r\n                });\r\n            } else {\r\n                //存入缓存\r\n                localStorage.setItem(HEADERCOLOR_CACHE_KEY, headercolor);\r\n                document.documentElement.classList.add(\"color-header\", headercolor);\r\n                headercolorList.splice(headercolorList.indexOf(headercolor), 1);\r\n                document.documentElement.classList.remove(...headercolorList);\r\n            }\r\n        });\r\n\r\n\r\n        //搜索框关闭\r\n        Util.delegate(document.body, 'click', '.bsa-search-close-btn', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-search-form-wrapper').classList.remove('open');\r\n        });\r\n\r\n        //搜索框打开\r\n        Util.delegate(document.body, 'click', '.bsa-search-form-toggler', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-search-form-wrapper').classList.add('open');\r\n        });\r\n\r\n        //移动端左侧菜单Toggler\r\n        Util.delegate(document.body, 'click', '.bsa-sidebar-toggler', function (event) {\r\n            event.preventDefault();\r\n            document.querySelector('.bsa-sidebar').classList.add('open');\r\n            document.body.insertAdjacentHTML('beforeEnd', `<div class=\"bsa-mask\"></div>`);\r\n        });\r\n\r\n        //遮罩层点击\r\n        Util.delegate(document.body, 'click', '.bsa-mask', function (event) {\r\n            event.preventDefault();\r\n            _this.closeSideMenu();\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭侧边栏的菜单\r\n     * @private\r\n     */\r\n    closeSideMenu() {\r\n        document.querySelector('.bsa-mask').remove();\r\n        document.querySelector('.bsa-sidebar').classList.remove('open');\r\n    }\r\n\r\n    _menuToggle(element, type) {\r\n        //找到ul元素\r\n        let ul = element.nextElementSibling;\r\n        //先计算得到ul可滚动的高度scrollHeight\r\n        let ulSh = ul.scrollHeight + 'px';\r\n        if (type === 1) {\r\n            ul.style.cssText = 'display:block;height:0;overflow: hidden;';\r\n            void element.scrollHeight;\r\n            ul.style.cssText = `display:block;height:${ulSh};overflow: hidden;`;\r\n        } else if (type === 0) {\r\n            ul.style.cssText = `display:block;height:${ulSh};overflow: hidden;`;\r\n            void element.scrollHeight;\r\n            ul.style.cssText = `display:block;height:0;overflow: hidden;`;\r\n        }\r\n    }\r\n\r\n\r\n    //广告输出\r\n    _advert() {\r\n        console.log(\"\\n\" +\r\n            \"   ___  _______ \\n\" +\r\n            \"  / _ )/ __/ _ |\\n\" +\r\n            \" / _  |\\\\ \\\\/ __ |\\n\" +\r\n            \"/____/___/_/ |_|\\n\" + \"\\n作者:ajiho\\n\" + \"描述:基于bootstrap5.x设计的一个纯静态开源免费的响应式后台管理HTML模板，旨在快速让喜欢用bootstrap开发后台的程序员有个轻松愉悦的起点。\\n无论您是用于项目开发、学习、还是教学演示、希望能给个star，这将会是我最大的动力!\\n\" + \"Gitee开源地址:https://gitee.com/ajiho/bootstrap-admin\\n\");\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Main","let i = 0;\r\n// 默认参数\r\nconst Default = {\r\n    title: \"\", // 弹窗标题\r\n    body: \"\", // 内容\r\n    footer: \"\", // 模态框框底部\r\n    modalClass: \"fade\", // \".modal\"所在div修饰类  比如:fade\r\n    modalDialogClass: \"modal-dialog-centered\", // \".modal-dialog\"所在div修饰类  比如:modal-dialog-scrollable modal-dialog-centered modal-dialog-scrollable\r\n\r\n    // bootstrap模态框选项参考:https://getbootstrap.com/docs/5.1/components/modal/#options\r\n    modalOptions: {\r\n        backdrop: true,\r\n        keyboard: true,\r\n        focus: true,\r\n    },\r\n\r\n    btnShow: true,\r\n    btnText: 'close',\r\n    btnClass: 'btn-secondary',\r\n\r\n    buttons: [],\r\n\r\n    // 事件:\r\n    onCreate: null, // 创建模态框时调用回调函数\r\n    onShown: null, // 完全显示模态框框时调用(淡入完成之后)\r\n    onDispose: null, // 模态框关闭时调用\r\n    onSubmit: null // 确认框，按下确认，或者取消后回调\r\n}\r\n\r\nclass Modal {\r\n\r\n    constructor(config) {\r\n        //参数合并\r\n        this._config = Object.assign({}, Default, config)\r\n        this.id = \"bsa-model-\" + i;\r\n        i++;\r\n        //展示modal\r\n        this.show();\r\n        //事件触发\r\n        if (this._config.onCreate) {\r\n            this._config.onCreate(this);\r\n        }\r\n    }\r\n\r\n    show() {\r\n        if (!this.element) {//如果元素不存在,就创建\r\n            this.createContainerElement();\r\n            let modalInstance;\r\n            if (this._config.modalOptions) {\r\n                modalInstance = new bootstrap.Modal(this.element, this._config.modalOptions);\r\n                if (modalInstance) {\r\n                    modalInstance.show();\r\n                }\r\n            } else {\r\n                modalInstance = new bootstrap.Modal(this.element);\r\n                if (modalInstance) {\r\n                    modalInstance.show();\r\n                }\r\n            }\r\n        } else {\r\n            const modalInstance = bootstrap.Modal.getInstance(this.element);\r\n            if (modalInstance) {\r\n                modalInstance.show();\r\n            }\r\n        }\r\n\r\n        //判断参数传递显示和隐藏元素\r\n        if (this._config.title) {\r\n            //头部展示\r\n            this.headerElement.style.display = '';\r\n            this.titleElement.innerHTML = this._config.title\r\n        } else {\r\n            this.headerElement.style.display = 'none';\r\n        }\r\n\r\n        if (this._config.body) {\r\n\r\n            this.bodyElement.style.display = '';\r\n            this.bodyElement.innerHTML = this._config.body\r\n        } else {\r\n            this.bodyElement.style.display = 'none';\r\n        }\r\n\r\n        if (this._config.footer) {\r\n            this.footerElement.innerHTML = this._config.footer\r\n        }\r\n\r\n\r\n        if (this._config.buttons) {\r\n\r\n            let btx = '';\r\n            this._config.buttons.some(function (item, index) {\r\n                btx += '<button class=\"btn ' + item.btnClass + '\" data-key=\"' + index + '\" >' + item.text + '</button>';\r\n            });\r\n\r\n            this.footerElement.insertAdjacentHTML(\"afterbegin\", btx);//在调用元素内部后面添加一个子元素 即取代了最后的子元素\r\n        }\r\n\r\n        if (!this._config.btnShow) {\r\n            var btn = this.footerElement.querySelector('button[data-bs-dismiss=modal]');\r\n            btn.style.display = 'none';\r\n        }\r\n\r\n        //iframe\r\n        if (this._config.url) {\r\n            // console.log(this._config.url)\r\n\r\n            // var btn = this.footerElement.querySelector('button[data-bs-dismiss=modal]');\r\n            // btn.style.display = 'none';\r\n            var iframe = `<iframe src=\"${this._config.url}\"\r\n                    style=\"height: calc(100vh - 14rem);\" class=\"w-100\"\r\n                    ></iframe>`;\r\n            this.bodyElement.innerHTML = '';\r\n            this.bodyElement.classList.add('p-0');\r\n            this.bodyElement.insertAdjacentHTML(\"afterbegin\", iframe);\r\n            this.dialogElement.classList.remove('modal-dialog-scrollable');\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //Modal原型对象整一个方法用于创建模态框dom元素\r\n    createContainerElement() {\r\n        //提取出this,否则函数内调用会错乱\r\n        const self = this;\r\n\r\n        //给dom设置各种属性\r\n        this.element = document.createElement(\"div\");\r\n        this.element.id = this.id;\r\n        this.element.setAttribute(\"class\", \"modal \" + this._config.modalClass);\r\n        this.element.setAttribute(\"tabindex\", \"-1\");\r\n        this.element.setAttribute(\"aria-labelledby\", this.id);\r\n        this.element.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n        //组合modal\r\n        this.element.innerHTML = `\r\n                <div class=\"modal-dialog ${this._config.modalDialogClass}\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel-${this._config.id}\"></h5>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    \r\n                </div>\r\n                <div class=\"modal-footer justify-content-center\">\r\n                    <button type=\"button\" class=\"btn ${this._config.btnClass}\" data-bs-dismiss=\"modal\">${this._config.btnText}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        `;\r\n\r\n        //加入到body中\r\n        document.body.appendChild(this.element);\r\n\r\n\r\n        //分别找到各个组成部分dom对象，备用\r\n        this.dialogElement = this.element.querySelector(\".modal-dialog\");\r\n        this.titleElement = this.element.querySelector(\".modal-title\");\r\n        this.headerElement = this.element.querySelector(\".modal-header\");\r\n        this.bodyElement = this.element.querySelector(\".modal-body\");\r\n        this.footerElement = this.element.querySelector(\".modal-footer\");\r\n\r\n        //事件监听回调\r\n        this.element.addEventListener('hidden.bs.modal', function (event) {\r\n            self.dispose();\r\n        });\r\n\r\n        this.element.addEventListener('shown.bs.modal', function (event) {\r\n            if (self._config.onShown) {\r\n                self._config.onShown(self);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    hide() {\r\n        const modalInstance = bootstrap.Modal.getInstance(this.element);\r\n        if (modalInstance) {\r\n            modalInstance.hide();\r\n        }\r\n    }\r\n\r\n    dispose() {\r\n        const modalInstance = bootstrap.Modal.getInstance(this.element);\r\n        if (modalInstance) {\r\n            modalInstance.dispose();\r\n        }\r\n        document.body.removeChild(this.element);\r\n        if (this._config.onDispose) {\r\n            this._config.onDispose(this);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default {\r\n    show(op1, op2) {\r\n        if (typeof op1 === 'undefined') op1 = {};\r\n\r\n        if (typeof op1 === 'string') {\r\n            op1 = {\r\n                body: op1,\r\n                title: (op2) ? op2 : '',\r\n            };\r\n        }\r\n        return new Modal(op1);\r\n    }\r\n}","/**\r\n * --------------------------------------------\r\n * Main.js\r\n * License MIT\r\n * --------------------------------------------\r\n */\r\n\r\n\r\nclass Toast {\r\n\r\n    constructor(element, config) {\r\n        this._config = config\r\n        this._element = element\r\n    }\r\n\r\n    run() {\r\n        console.log('Toast-run')\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Toast"],"names":["Util","delegate","element","type","selector","fn","exceptSelector","addEventListener","e","target","currTarget","currentTarget","HTMLElement","matches","call","parentNode","siblings","pChildren","children","eleMatch","push","createNode","htmlStr","div","document","createElement","innerHTML","debounce","func","wait","timeID","args","clearTimeout","setTimeout","apply","this","body","event","querySelectorAll","forEach","input","checked","slice","map","popoverTriggerEl","bootstrap","Popover","tooltipTriggerEl","Tooltip","form","preventDefault","setAttribute","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","i","length","randomBytes","bytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","join","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","cryptModule","exports","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","decodeURIComponent","escape","charCodeAt","String","fromCharCode","charenc_1","isBuffer_1","obj","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","require$$0","require$$1","require$$2","md5","message","options","encoding","Array","prototype","isArray","Uint8Array","m","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","md5Module","Error","digestbytes","asBytes","asString","TAB_CONTAINER_MOUNT_CLASS","TAB_IFRAME_LEAVE_CLASS","TAB_IFRAME_FADEIN_CLASS","TAB_ID_KEY","TAB_URL_KEY","TAB_CACHE_KEY","SIDEBARCOLOR_CACHE_KEY","HEADERCOLOR_CACHE_KEY","TAB_ITEM","TAB_ITEM_CLOSE","TAB_IFRAME","Default","consoleLog","tabEl","defaultTabs","tabFadein","tabCache","sideMenuClickClose","tabActiveOpenInSideMenuLocation","tabDefault","title","url","id","close","footer","modalClass","modalDialogClass","modalOptions","backdrop","keyboard","focus","btnShow","btnText","btnClass","buttons","onCreate","onShown","onDispose","onSubmit","Modal","config","_config","Object","assign","show","modalInstance","getInstance","createContainerElement","headerElement","style","display","titleElement","bodyElement","footerElement","btx","some","item","index","text","insertAdjacentHTML","querySelector","iframe","classList","add","dialogElement","remove","self","appendChild","dispose","hide","removeChild","Modal$1","op1","op2","_init","_advert","_addEventListener","restoreColor","_tabInit","sidebarcolor","localStorage","getItem","headercolor","documentElement","_tab_container","_tab_wraper","_tab_content_wraper","_buildContextmenu","_addTabEventListener","_restoreTabs","_isOpenCacheTab","_getCacheTabs","_echoCacheAllTabs","option","addTab","_clearCacheTabsAll","tabFrag","createDocumentFragment","tabHTML","_formatString","_getActivatedCacheTabId","activeTabById","_openLeftMenuByid","scrollToTabById","clearCache","removeItem","tabs","JSON","parse","_contextmenu_wraper","tabId","getAttribute","_openMenu","scrollTo","top","offsetTop","behavior","_this","innerText","screen","availWidth","closeSideMenu","closeTabById","_canRemoveTabById","clientY","left","clientX","Dropdown","getOrCreateInstance","_closeTabsContextmenu","window","tabActionsDropdown","_contextmenuRefresh","_contextmenuClose","_contextmenuCloseOther","scrollLeft","offsetWidth","getActivatedTabId","_refreshTabById","_closeAllTabExceptForId","closeAllTabs","tab","_removeTabById","firstTab","firstChild","forEachId","findTabById","ifr","findIframeById","_removeCacheTabById","contentWindow","location","reload","_addIframeByTab","result","cacheTabs","splice","setItem","stringify","contains","willActiveId","nextElementSibling","previousElementSibling","iframeHTML","iframeDom","util","_addTabToCache","_activeCacheTabById","active","btn","hasOwnProperty","getActivatedTab","btnEl","iframeEl","ul","aHasChildren","offsetLeft","results","data","matchingStr","group1","removeAttribute","_menuToggle","li","openA","activeA","sidebarcolorList","headercolorList","ulSh","scrollHeight","cssText","console","log","_element","run"],"mappings":"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"}