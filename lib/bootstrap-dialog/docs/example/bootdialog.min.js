/*!
 * bootdialog v0.0.1 (https://gitee.com/x852/bootstrap-modal)
 * Author: x852
 * License: MIT
 */
!function(t){"use strict";var e=t;if(void 0===e.bootstrap)throw new Error("bootstrap-modal requires bootstrap5");var o=e.bootstrap.Modal.VERSION;if(o.split(".")[0]>5||o.split(".")[1]>1)throw new Error("Bootstrap modal only supports bootstrap 5.1.x version");var s=0;function n(t){this.version="0.0.1",this.options={title:"",body:"",footer:"",modalClass:"fade",modalDialogClass:"modal-dialog-centered",modalOptions:{backdrop:!0,keyboard:!0,focus:!0},btnShow:!0,btnText:"close",btnClass:"btn-secondary",buttons:[],onCreate:null,onShown:null,onDispose:null,onSubmit:null};for(let e in t)this.options[e]=t[e];this.id="bootstrap-modal-"+s,s++,this.show(),this.options.onCreate&&this.options.onCreate(this)}n.prototype.show=function(){if(this.element){const t=bootstrap.Modal.getInstance(this.element);t&&t.show()}else{var t;this.createContainerElement(),this.options.modalOptions?(t=new bootstrap.Modal(this.element,this.options.modalOptions))&&t.show():(t=new bootstrap.Modal(this.element))&&t.show()}if(this.options.title?(this.headerElement.style.display="",this.titleElement.innerHTML=this.options.title):this.headerElement.style.display="none",this.options.body?(this.bodyElement.style.display="",this.bodyElement.innerHTML=this.options.body):this.bodyElement.style.display="none",this.options.footer&&(this.footerElement.innerHTML=this.options.footer),this.options.buttons){let t="";this.options.buttons.some((function(e,o){t+='<button class="btn '+e.btnClass+'" data-key="'+o+'" >'+e.text+"</button>"})),this.footerElement.insertAdjacentHTML("afterbegin",t)}this.options.btnShow||(this.footerElement.querySelector("button[data-bs-dismiss=modal]").style.display="none");if(this.options.url){var e=`<iframe src="${this.options.url}"\n                    style="width: 100%;height:70vh"\n                    ></iframe>`;this.bodyElement.innerHTML="",this.bodyElement.classList.add("p-0"),this.bodyElement.insertAdjacentHTML("afterbegin",e),this.dialogElement.classList.remove("modal-dialog-scrollable")}},n.prototype.hide=function(){const t=bootstrap.Modal.getInstance(this.element);t&&t.hide()},n.prototype.createContainerElement=function(){const t=this;this.element=document.createElement("div"),this.element.id=this.id,this.element.setAttribute("class","modal "+this.options.modalClass),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("aria-labelledby",this.id),this.element.setAttribute("aria-hidden","true"),this.element.innerHTML=`\n                <div class="modal-dialog ${this.options.modalDialogClass}">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title" id="exampleModalLabel-${this.options.id}"></h5>\n                </div>\n                <div class="modal-body">\n                    \n                </div>\n                <div class="modal-footer justify-content-center">\n                    <button type="button" class="btn ${this.options.btnClass}" data-bs-dismiss="modal">${this.options.btnText}</button>\n                </div>\n            </div>\n        </div>\n        `,document.body.appendChild(this.element),this.dialogElement=this.element.querySelector(".modal-dialog"),this.titleElement=this.element.querySelector(".modal-title"),this.headerElement=this.element.querySelector(".modal-header"),this.bodyElement=this.element.querySelector(".modal-body"),this.footerElement=this.element.querySelector(".modal-footer"),this.element.addEventListener("hidden.bs.modal",(function(e){t.dispose()})),this.element.addEventListener("shown.bs.modal",(function(e){t.options.onShown&&t.options.onShown(t)}))},n.prototype.dispose=function(){const t=bootstrap.Modal.getInstance(this.element);t&&t.dispose(),document.body.removeChild(this.element),this.options.onDispose&&this.options.onDispose(this)},e.BootDialog={fire:function(t,e){return void 0===t&&(t={}),"string"==typeof t&&(t={body:t,title:e||""}),t.buttons&&(t.onCreate=function(t){t.element.onclick=function(e){e.preventDefault();var o=e.target,s=o.dataset.key;if(void 0!==s&&o.classList.contains("btn")){const e=bootstrap.Modal.getInstance(t.element);e&&e.hide(),t.options.buttons[s].action(t)}}}),new n(t)}}}(window);