/*!
 * bootstrap-quicktab v1.0.0 (https://gitee.com/ajiho/bootstrap-quicktab)
 * Copyright 2021-2023 ajiho
 * license MIT (https://gitee.com/ajiho/bootstrap-quicktab/blob/master/LICENSE)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Quicktab=e()}(this,(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,r={},o={get exports(){return r},set exports(t){r=t}},a={};n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?e.push(n.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&e.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(t.charAt(i))>>>6-2*r);return e}},{get exports(){return a},set exports(t){a=t}}.exports=i;var s={utf8:{stringToBytes:function(t){return s.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(s.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},c=s,l=function(t){return null!=t&&(u(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&u(t.slice(0,0))}(t)||!!t._isBuffer)};function u(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}!function(){var t=a,e=c.utf8,n=l,i=c.bin,r=function(o,a){o.constructor==String?o=a&&"binary"===a.encoding?i.stringToBytes(o):e.stringToBytes(o):n(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||o.constructor===Uint8Array||(o=o.toString());for(var s=t.bytesToWords(o),c=8*o.length,l=1732584193,u=-271733879,d=-1732584194,b=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var f=r._ff,_=r._gg,p=r._hh,v=r._ii;for(h=0;h<s.length;h+=16){var m=l,g=u,y=d,T=b;l=f(l,u,d,b,s[h+0],7,-680876936),b=f(b,l,u,d,s[h+1],12,-389564586),d=f(d,b,l,u,s[h+2],17,606105819),u=f(u,d,b,l,s[h+3],22,-1044525330),l=f(l,u,d,b,s[h+4],7,-176418897),b=f(b,l,u,d,s[h+5],12,1200080426),d=f(d,b,l,u,s[h+6],17,-1473231341),u=f(u,d,b,l,s[h+7],22,-45705983),l=f(l,u,d,b,s[h+8],7,1770035416),b=f(b,l,u,d,s[h+9],12,-1958414417),d=f(d,b,l,u,s[h+10],17,-42063),u=f(u,d,b,l,s[h+11],22,-1990404162),l=f(l,u,d,b,s[h+12],7,1804603682),b=f(b,l,u,d,s[h+13],12,-40341101),d=f(d,b,l,u,s[h+14],17,-1502002290),l=_(l,u=f(u,d,b,l,s[h+15],22,1236535329),d,b,s[h+1],5,-165796510),b=_(b,l,u,d,s[h+6],9,-1069501632),d=_(d,b,l,u,s[h+11],14,643717713),u=_(u,d,b,l,s[h+0],20,-373897302),l=_(l,u,d,b,s[h+5],5,-701558691),b=_(b,l,u,d,s[h+10],9,38016083),d=_(d,b,l,u,s[h+15],14,-660478335),u=_(u,d,b,l,s[h+4],20,-405537848),l=_(l,u,d,b,s[h+9],5,568446438),b=_(b,l,u,d,s[h+14],9,-1019803690),d=_(d,b,l,u,s[h+3],14,-187363961),u=_(u,d,b,l,s[h+8],20,1163531501),l=_(l,u,d,b,s[h+13],5,-1444681467),b=_(b,l,u,d,s[h+2],9,-51403784),d=_(d,b,l,u,s[h+7],14,1735328473),l=p(l,u=_(u,d,b,l,s[h+12],20,-1926607734),d,b,s[h+5],4,-378558),b=p(b,l,u,d,s[h+8],11,-2022574463),d=p(d,b,l,u,s[h+11],16,1839030562),u=p(u,d,b,l,s[h+14],23,-35309556),l=p(l,u,d,b,s[h+1],4,-1530992060),b=p(b,l,u,d,s[h+4],11,1272893353),d=p(d,b,l,u,s[h+7],16,-155497632),u=p(u,d,b,l,s[h+10],23,-1094730640),l=p(l,u,d,b,s[h+13],4,681279174),b=p(b,l,u,d,s[h+0],11,-358537222),d=p(d,b,l,u,s[h+3],16,-722521979),u=p(u,d,b,l,s[h+6],23,76029189),l=p(l,u,d,b,s[h+9],4,-640364487),b=p(b,l,u,d,s[h+12],11,-421815835),d=p(d,b,l,u,s[h+15],16,530742520),l=v(l,u=p(u,d,b,l,s[h+2],23,-995338651),d,b,s[h+0],6,-198630844),b=v(b,l,u,d,s[h+7],10,1126891415),d=v(d,b,l,u,s[h+14],15,-1416354905),u=v(u,d,b,l,s[h+5],21,-57434055),l=v(l,u,d,b,s[h+12],6,1700485571),b=v(b,l,u,d,s[h+3],10,-1894986606),d=v(d,b,l,u,s[h+10],15,-1051523),u=v(u,d,b,l,s[h+1],21,-2054922799),l=v(l,u,d,b,s[h+8],6,1873313359),b=v(b,l,u,d,s[h+15],10,-30611744),d=v(d,b,l,u,s[h+6],15,-1560198380),u=v(u,d,b,l,s[h+13],21,1309151649),l=v(l,u,d,b,s[h+4],6,-145523070),b=v(b,l,u,d,s[h+11],10,-1120210379),d=v(d,b,l,u,s[h+2],15,718787259),u=v(u,d,b,l,s[h+9],21,-343485551),l=l+m>>>0,u=u+g>>>0,d=d+y>>>0,b=b+T>>>0}return t.endian([l,u,d,b])};r._ff=function(t,e,n,i,r,o,a){var s=t+(e&n|~e&i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},r._gg=function(t,e,n,i,r,o,a){var s=t+(e&i|n&~i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},r._hh=function(t,e,n,i,r,o,a){var s=t+(e^n^i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},r._ii=function(t,e,n,i,r,o,a){var s=t+(n^(e|~i))+(r>>>0)+a;return(s<<o|s>>>32-o)+e},r._blocksize=16,r._digestsize=16,o.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var o=t.wordsToBytes(r(e,n));return n&&n.asBytes?o:n&&n.asString?i.bytesToString(o):t.bytesToHex(o)}}();var d=function(){function t(t){void 0===t&&(t=1),this.type=t}var e=t.prototype;return e.set=function(t,e){this.remove(t),1===this.type?sessionStorage.setItem(t,JSON.stringify(e)):2===this.type&&localStorage.setItem(t,JSON.stringify(e))},e.get=function(t){return 1===this.type?JSON.parse(sessionStorage.getItem(t)):2===this.type?JSON.parse(localStorage.getItem(t)):void 0},e.remove=function(t){1===this.type?sessionStorage.removeItem(t):2===this.type&&localStorage.removeItem(t)},t.removeBoth=function(t){sessionStorage.removeItem(t),localStorage.removeItem(t)},t}(),b=function(t,e,n,i,r){t.addEventListener(e,(function(t){for(var e=t.target,o=t.currentTarget;e!==o&&e instanceof HTMLElement;){if(e.matches(n)){i.call(e,t);break}if(e.matches(r))break;e=e.parentNode}}),!1)},h=function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},f=function(t,e){var n;return void 0===e&&(e=500),function(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,o)}),e)}},_=function(t){var e=null;try{e=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(t){}return null!==e},p=function(t){return"string"==typeof t&&t.constructor===String},v="data-tab-id",m="data-tab-url",g="quicktab",y="scroll_area",T="qt-fullscreen",w="outing",x="qt-close",I="pen",B="more-menu-pen",S="fullscreen",A="iconbtn",L='\n        \x3c!-- 全屏实现 --\x3e\n        <li class="nav-item  border-start">\n            <button class="nav-link '+A+" "+S+'" >\n                <i class="bi bi-arrows-fullscreen"></i>\n            </button>\n        </li>\n',E='\n            <ul class="nav nav-pills border flex-nowrap">\n                \x3c!--                左边的箭头--\x3e\n                <li class="nav-item border-end" >\n                    <button class="nav-link '+A+' move-left-btn" ><i class="bi bi-caret-left"></i></button>\n                </li>\n                \x3c!--                中间滚动的区域--\x3e\n                <li class="nav-item flex-grow-1">\n                    <div class="'+y+'"></div>\n                </li>\n                \x3c!--                右边的箭头--\x3e\n                <li class="nav-item  border-start" >\n                    <button class="nav-link '+A+' move-right-btn" >\n                        <i class="bi bi-caret-right"></i>\n                    </button>\n                </li>\n                \x3c!--                操作区域--\x3e\n                <li class="nav-item  border-start dropdown" >\n                    <button class="nav-link '+A+'" data-bs-toggle="dropdown" >\n                        <i class="bi bi-caret-down"></i>\n                    </button>\n                    <ul class="dropdown-menu dropdown-menu-end">\n                        <li>\n                            <button class="dropdown-item rollback-current" type="button">回到当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item refresh-current" type="button">刷新当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-current" type="button">关闭当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-other" type="button">关闭其他</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-all" type="button">关闭全部</button>\n                        </li>\n                    </ul>\n                </li>\n                {{tab_fullscreen}}\n            </ul>\n                \n            \x3c!-- 面板容器 --\x3e\n            <div class="flex-grow-1 border-top-0 border">\n            </div>\n',C='<button class="nav-link flex-shrink-0 border-end position-relative" type="button" '+m+'="{{url}}"  '+v+'="{{id}}">{{title}}</button>',k='<button class="nav-link flex-shrink-0  border-end position-relative" type="button" '+m+'="{{url}}"  '+v+'="{{id}}">{{title}}<i class="bi bi-x '+x+'"></i></button>',H='\n     \x3c!--loading--\x3e\n     <div class="position-absolute start-0 end-0 top-0 bottom-0 bg-body-tertiary show d-flex align-items-center justify-content-center">\n         <div class="spinner-border text-body-tertiary" role="status">\n         <span class="visually-hidden">Loading...</span>\n         </div>\n    </div>\n',M='\n\x3c!--每个面板--\x3e\n<div class="h-100 w-100 position-relative" '+v+'="{{id}}">\n    '+H+'    \n    <iframe src="{{url}}" class="d-block w-100 h-100"></iframe>\n</div>\n',q='\n            <div class="list-group '+g+'-contextmenu shadow-sm">\n                <button type="button" class="list-group-item list-group-item-action refresh">刷新</button>\n                <button type="button" class="list-group-item list-group-item-action close">关闭</button>\n                <button type="button" class="list-group-item list-group-item-action close-other">关闭其它</button>\n            </div>',F={selector:null,minHeight:"",height:"",width:"",cache:null,tabs:[],enableFullscreen:!1,enableContextmenu:!1,enableMouseWheelToggleTab:!1},O={title:"",url:"",id:null,close:!0},P=function(){function t(e){this._option=Object.assign({},F,e),this._tab_id=r(this._option.selector),this._tab_cache_key=g+"-"+this._tab_id,this._buildStyle(),this.storage=this._initCache(),this._init(),t.instances[this._tab_id]=this}var n=t.prototype;return n._initCache=function(){return"localStorage"===this._option.cache?new d(2):"sessionStorage"===this._option.cache?new d(1):null},t.getTabId=function(t){return t.getAttribute(v)},t.getTabUrl=function(t){return t.getAttribute(m)},t.canAccessIFrame=function(t){return _(t)},t.getTabIdByUrl=function(t){return r(t)},n._buildStyle=function(){if(!(document.querySelector('style[namespace="'+g+'"]')instanceof HTMLStyleElement)){var t=document.createElement("style");t.setAttribute("namespace",g),t.textContent="\n                ."+g+"{\n                    height:222px;\n                    background-color: var(--bs-body-bg);\n                    display: flex;\n                    flex-direction: column;\n                }\n            \n                /*  面板移除样式 */\n                ."+g+" ."+w+" {\n                    position: absolute !important;\n                    transform: translateX(-200%);\n                }\n            \n                /*去除所有的圆角*/\n                ."+g+" .nav-pills .nav-link {\n                    border-radius: 0;\n                }\n            \n                ."+g+" .nav-pills .nav-link ."+x+" {\n                    position: absolute;\n                    top: 0;\n                    right: 0;\n                    display: none;\n                    cursor: pointer;\n                }\n            \n                ."+g+" .nav-pills .nav-link ."+x+":hover {\n                    color: #f00;\n                }\n            \n                ."+g+" .nav-pills .nav-link:hover ."+x+" {\n                    display: inline;\n                }\n                \n                \n                ."+g+" li.flex-grow-1 {\n                    width:0;\n                }\n                /*必须添加该样式否则滚动条会超出*/\n                ."+g+" div.flex-grow-1 {\n                    overflow: hidden;\n                }\n                \n         \n                ."+g+" li.flex-grow-1 ."+y+"{\n                    position: relative;\n                    display:flex;\n                    flex-wrap: nowrap;\n                    align-items: center;\n                    scroll-behavior:smooth;\n                    overflow: scroll;\n                    scrollbar-width: none;\n                    -ms-overflow-style: none;\n                }\n                \n                  /* 谷歌浏览器 */\n                ."+g+" li.flex-grow-1 ."+y+"::-webkit-scrollbar {\n                     display: none;\n                }\n                \n                /*中间的tab设置一个最大的宽度超出部分显示省略号*/\n                ."+g+" li.flex-grow-1 .nav-link {\n                    min-width: 0;\n                    max-width: 160px;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                    overflow: hidden;\n                }\n            \n                /*给图标按钮设置一个固定宽度，否则滚动到指定tab位置时不精确*/\n                ."+g+" ."+A+"{\n                    width: 48px;\n                }\n            \n                ."+g+" .show {\n                    opacity: 1;\n                }\n            \n                ."+g+" .hide {\n                    opacity: 0;\n                    transition: opacity 800ms;\n                }\n            \n                ."+g+"."+T+" {\n                    height: 100% !important;\n                    width: 100% !important;\n                    position: fixed !important;\n                    z-index: 99999 !important;\n                    top: 0 !important;\n                    bottom: 0 !important;\n                    left: 0 !important;\n                    right: 0 !important;\n                }\n                \n                ."+g+"-contextmenu {\n                  display: none;\n                  position: fixed;\n                  width: 100px;\n                  background: #fff;\n                  z-index: 999999 !important;\n                }\n                \n                \n                ."+g+"."+I+" iframe {\n                  pointer-events: none;\n                }\n                \n                ."+g+"."+B+" iframe {\n                  pointer-events: none;\n                }\n            ",document.head.appendChild(t)}},n._init=function(){if(this.listeners=[],this.handlers={},this._tab_container=document.querySelector(this._option.selector),!(this._tab_container instanceof HTMLElement))throw new Error("selector '"+this._option.selector+"' invalid");if(this._tab_container.classList.contains(g))throw new Error("The provided selector '"+this._option.selector+"' has been initialized");this._dataAttrAssign(),this._setContainerWH(),this._tab_container.classList.add(g),this._tab_container.insertAdjacentHTML("beforeEnd",this._formatMainHtmlStr()),this._tab_wraper=this._tab_container.querySelector("li.flex-grow-1 > ."+y),this._tab_pane_wraper=this._tab_container.querySelector("div.flex-grow-1"),!0===this._option.enableContextmenu&&this._buildContextmenu(),this._addEventListener(),this._restoreTabs()},n.addTab=function(t){if(t.id=r(t.url),t=Object.assign({},O,t),null===this.getTabById(t.id)){var e=this._getFormatTabStr(t);this._tab_wraper.insertAdjacentHTML("beforeEnd",e);var n=this._formatString(M,t);this._tab_pane_wraper.insertAdjacentHTML("beforeEnd",n),this._addTabToCache(t)}this.activeTabById(t.id)},n.activeTabById=function(t){this._activeCacheTabById(t);var n=this.getActiveTab();n instanceof HTMLElement&&n.classList.remove("active"),this.getTabById(t).classList.add("active");for(var i,r=e(this._tab_pane_wraper.children);!(i=r()).done;){i.value.classList.add(w)}this.getTabPaneById(t)instanceof HTMLElement||this._addTabPaneById(t),this._addIframeLoadEventById(t),this.getTabPaneById(t).classList.remove(w),this.scrollToTabById(t)},n.scrollToTabById=function(t){var e=this.getTabById(t);this._tab_wraper.scrollLeft=e.offsetLeft-this._tab_wraper.offsetWidth/2+e.offsetWidth/2},n.getTabById=function(t){return this._tab_wraper.querySelector('[data-tab-id="'+t+'"]')},n.getTabs=function(){return this._tab_wraper.querySelectorAll("button.nav-link")},n.getActiveTab=function(){return this._tab_wraper.querySelector("button.nav-link.active")},n.getIFrameById=function(t){return this.getTabPaneById(t).querySelector("iframe")},n.getTabPaneById=function(t){return this._tab_pane_wraper.querySelector('[data-tab-id="'+t+'"]')},n.on=function(t,e){return void 0===this.handlers[t]&&(this.handlers[t]=[]),this.listeners.push(t),this.handlers[t].push(e),this},n.off=function(t,e){if(this.handlers[t]instanceof Array){for(var n=this.handlers[t],i=0;i<n.length;i++)if(n[i]===e){this.listeners.splice(i,1),n.splice(i,1);break}return this}},n._emit=function(t){return t.target||(t.target=this),this.handlers[t.type]instanceof Array&&this.handlers[t.type][0](t)},n._formatString=function(t,e){return t.replace(/{{(\w+)}}/g,(function(t,n){return e[n]}))},n._buildContextmenu=function(){document.querySelector("."+g+"-contextmenu")instanceof HTMLElement||document.body.insertAdjacentHTML("beforeEnd",q),this._tab_contextmenu_wraper=document.querySelector("."+g+"-contextmenu")},n._addEventListener=function(){var e=this;window.addEventListener("resize",f((function(){!0===e._option.enableContextmenu&&e._closeTabsContextmenu(),e.scrollToActiveTab(),e._moreMenuDropdownHide()}),150)),b(e._tab_wraper,"click","button.nav-link",(function(){e.activeTabById(t.getTabId(this))}),"."+x),b(e._tab_wraper,"click","."+x,(function(){e.closeTabById(t.getTabId(this.parentNode))})),b(e._tab_container,"click","."+S,(function(){e._tab_container.classList.contains(T)?e.exitFullscreen():e.fullscreen()})),b(e._tab_container,"click",".move-left-btn",(function(){e.leftScroll()})),b(e._tab_container,"click",".move-right-btn",(function(){e.rightScroll()})),b(e._tab_container,"click",".rollback-current",(function(){e.scrollToActiveTab()})),b(e._tab_container,"click",".refresh-current",(function(){e.refreshActiveTab()})),e._moreMenuEvent(),b(document.body,"click","[data-qt-tab][data-qt-target]",(function(t){if(t.preventDefault(),this.getAttribute("data-qt-target")===e._option.selector){var n=Object.assign({},O,JSON.parse(this.getAttribute("data-qt-tab")));e.addTab(n)}})),b(e._tab_container,"click",".close-current",(function(){e.closeActiveTab()})),b(e._tab_container,"click",".close-other",(function(){e.closeAlLTabsExceptActiveTab()})),b(e._tab_container,"click",".close-all",(function(){e.closeAllTabs()})),!0===e._option.enableContextmenu&&e._addContextmenuEventListener(),!0===e._option.enableMouseWheelToggleTab&&e._registerMouseWheelToggleTabEvent()},n._addContextmenuEventListener=function(){var e=this;b(e._tab_wraper,"contextmenu","button.nav-link",(function(n){n.preventDefault();var i=t.getTabId(this);e._canRemoveTabById(i)?e._tab_contextmenu_wraper.querySelector(".close").style.display="block":e._tab_contextmenu_wraper.querySelector(".close").style.display="none",e._tab_contextmenu_wraper.style.top=n.clientY+"px",e._tab_contextmenu_wraper.style.left=n.clientX+"px",e._tab_contextmenu_wraper.style.display="block",e._tab_container.classList.add(I),bootstrap.Dropdown.getOrCreateInstance(e._tab_container.querySelector("ul>li.dropdown>button")).hide(),e._tab_contextmenu_wraper.querySelectorAll("button.list-group-item").forEach((function(t){t.setAttribute(v,i)}))})),document.addEventListener("click",(function(){e._closeTabsContextmenu()})),b(e._tab_container,"contextmenu","div.flex-grow-1",(function(t){t.preventDefault(),e._closeTabsContextmenu(),e._moreMenuDropdownHide()})),b(e._tab_contextmenu_wraper,"click",".refresh",(function(t){t.preventDefault(),console.log(e._tab_contextmenu_wraper),e.refreshTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),b(e._tab_contextmenu_wraper,"contextmenu",".refresh",(function(t){t.preventDefault(),console.log(e._tab_contextmenu_wraper),e.refreshTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),b(e._tab_contextmenu_wraper,"click",".close",(function(t){t.preventDefault(),e.closeTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),b(e._tab_contextmenu_wraper,"contextmenu",".close",(function(t){t.preventDefault(),e.closeTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),b(e._tab_contextmenu_wraper,"click",".close-other",(function(n){n.preventDefault(),e.closeAlLTabsExceptById(t.getTabId(this)),e._closeTabsContextmenu()})),b(e._tab_contextmenu_wraper,"contextmenu",".close-other",(function(n){n.preventDefault(),e.closeAlLTabsExceptById(t.getTabId(this)),e._closeTabsContextmenu()}))},n._restoreTabs=function(){if(this._isCache()){var t=this._getCacheTabs();0!==t.length?this._restoreTabsHandle(t,this._getActiveTabFromCache().id):this._restoreTabsHandle(this._option.tabs,null,!0)}else d.removeBoth(this._tab_cache_key),this._restoreTabsHandle(this._option.tabs)},n.closeTabById=function(e){var n=this.getTabById(e);if(n.classList.contains("active")){var i=null;n.nextElementSibling instanceof HTMLElement?i=t.getTabId(n.nextElementSibling):n.previousElementSibling instanceof HTMLElement&&(i=t.getTabId(n.previousElementSibling)),this._removeTabById(e),i&&this.activeTabById(i)}else this._removeTabById(e)},n._removeTabById=function(t){this.getTabById(t).remove();var e=this.getTabPaneById(t);e instanceof HTMLElement&&e.remove(),this._removeCacheTabById(t)},n._addTabToCache=function(t){if(this._isCache()){var e=this._getCacheTabs();t.active=!1,e.push(t),this.storage.set(this._tab_cache_key,e)}},n._getCacheTabs=function(){if(this._isCache()){var t=this.storage.get(this._tab_cache_key);return null===t?[]:t}},n._isCache=function(){return null!==this._option.cache},n._restoreTabsHandle=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);for(var o,a=this,s=t,c=e(s);!(o=c()).done;){var l=o.value;Object.prototype.hasOwnProperty.call(l,"id")||(l.id=r(l.url))}var u=document.createDocumentFragment();s.forEach((function(t){!0===i&&a._addTabToCache(t);var e=a._getFormatTabStr(t);u.appendChild(h(e))})),a._tab_wraper.appendChild(u),null!==n?a.activeTabById(n):a.activeTabById(s.at(-1).id)},n._getFormatTabStr=function(t){return!0===t.close?this._formatString(k,t):this._formatString(C,t)},n._getActiveTabFromCache=function(){if(this._isCache()){var t=null;return this._getCacheTabs().forEach((function(e){Object.prototype.hasOwnProperty.call(e,"active")&&!0===e.active&&(t=e)})),t}},n._activeCacheTabById=function(t){if(this._isCache()){var e=this._getCacheTabs();e.forEach((function(e){e.active=e.id===t})),this.storage.set(this._tab_cache_key,e)}},n._addTabPaneById=function(e,n){void 0===n&&(n=!0);var i=this.getTabById(e),r={id:t.getTabId(i),url:t.getTabUrl(i)},o=h(this._formatString(M,r));!1===n&&o.classList.add(w),this._tab_pane_wraper.appendChild(o)},n._removeCacheTabById=function(t){if(this._isCache()){var e=this._getCacheTabs();e.forEach((function(n,i){n.id===t&&e.splice(i,1)})),this.storage.set(this._tab_cache_key,e)}},n.refreshTabById=function(e){if(this.getTabPaneById(e)instanceof HTMLElement){var n=this.getTabPaneById(e).querySelector("div");n instanceof HTMLElement&&n.remove(),this.getTabPaneById(e).insertAdjacentHTML("beforeEnd",H);var i=this.getIFrameById(e),r=i.getAttribute("src");t.canAccessIFrame(i)?i.contentWindow.location.reload():i.setAttribute("src",r)}else this._addTabPaneById(e,!1),this._addIframeLoadEventById(e)},n._canRemoveTabById=function(t){return this.getTabById(t).querySelector("."+x)instanceof HTMLElement},n._closeTabsContextmenu=function(){this._tab_contextmenu_wraper.style.display="none",this._tab_container.classList.remove(I)},n._moreMenuEvent=function(){var t=this,e=t._tab_container.querySelector("ul>li.dropdown>button");e.addEventListener("show.bs.dropdown",(function(){t._tab_container.classList.add(B)})),e.addEventListener("hide.bs.dropdown",(function(){t._tab_container.classList.remove(B)}))},n._moreMenuDropdownHide=function(){bootstrap.Dropdown.getOrCreateInstance(this._tab_container.querySelector("ul>li.dropdown>button")).hide()},n.scrollToActiveTab=function(){var e=this.getActiveTab();e instanceof HTMLElement&&this.scrollToTabById(t.getTabId(e))},n.refreshActiveTab=function(){this.refreshTabById(t.getTabId(this.getActiveTab()))},n.setTabPaneIFrame=function(e){var n=[];this._getIFrames().forEach((function(e){var i={};i.iframe=e,t.canAccessIFrame(e)?(i.canAccessIFrame=!0,i.iframeWindow=e.contentWindow):(i.canAccessIFrame=!1,i.iframeWindow=null),n.push(i)})),e(n)},n._getIFrames=function(){return this._tab_pane_wraper.querySelectorAll("iframe")},n.fullscreen=function(){!0===this._option.enableFullscreen&&(document.documentElement.style.overflow="hidden",this._tab_container.classList.add(T),this._tab_container.querySelector("."+S).innerHTML='<i class="bi bi-fullscreen-exit"></i>')},n.exitFullscreen=function(){!0===this._option.enableFullscreen&&(document.documentElement.style.overflow="auto",this._tab_container.classList.remove(T),this._tab_container.querySelector("."+S).innerHTML='<i class="bi bi-arrows-fullscreen"></i>',this.scrollToActiveTab())},n.leftScroll=function(){this._tab_wraper.scrollLeft=this._tab_wraper.scrollLeft-this._tab_wraper.offsetWidth},n.rightScroll=function(){this._tab_wraper.scrollLeft=this._tab_wraper.scrollLeft+this._tab_wraper.offsetWidth},n._dataAttrAssign=function(){var t=this._tab_container.getAttribute("data-qt-tabs");null!==t&&(this._option=Object.assign({},this._option,{tabs:JSON.parse(t)}))},n._addIframeLoadEventById=function(t){var e=this,n=e.getIFrameById(t);n.onload=function(){e.listeners.indexOf("iframeLoaded")>-1&&e._emit({type:"iframeLoaded",target:n,ifContentWindow:n.contentWindow}),e.getTabPaneById(t).querySelector("div").classList.replace("show","hide");var i=e.getTabPaneById(t).querySelector("div");i.addEventListener("transitionend",(function(){e.listeners.indexOf("loadingTransitionend")>-1&&e._emit({type:"loadingTransitionend",target:i}),this.remove()}))}},n._formatMainHtmlStr=function(){return!0===this._option.enableFullscreen?this._formatString(E,{tab_fullscreen:L}):this._formatString(E,{tab_fullscreen:""})},n._setContainerWH=function(){p(this._option.height)&&0!==this._option.height.trim().length&&this._tab_container.style.setProperty("height",this._option.height,"important"),p(this._option.width)&&0!==this._option.width.trim().length&&this._tab_container.style.setProperty("width",this._option.width,"important"),p(this._option.minHeight)&&0!==this._option.minHeight.trim().length&&this._tab_container.style.setProperty("min-height",this._option.minHeight,"important")},n._registerMouseWheelToggleTabEvent=function(){var e=this;this._tab_wraper.addEventListener("wheel",f((function(n){n.preventDefault(),n.stopPropagation();var i=e.getActiveTab();e._closeTabsContextmenu();var r=n.deltaY;if(r<0){var o=i.previousElementSibling;o instanceof HTMLElement&&e.activeTabById(t.getTabId(o))}else if(r>0){var a=i.nextElementSibling;a instanceof HTMLElement&&e.activeTabById(t.getTabId(a))}}),100))},n.closeActiveTab=function(){var e=t.getTabId(this.getActiveTab());this._canRemoveTabById(e)&&this.closeTabById(e)},n.closeAlLTabsExceptById=function(e){var n=this;this._tab_wraper.querySelectorAll("button.nav-link").forEach((function(i){var r=t.getTabId(i);r!==e&&n._canRemoveTabById(r)&&n.closeTabById(r)}))},n.closeAlLTabsExceptActiveTab=function(){this.closeAlLTabsExceptById(t.getTabId(this.getActiveTab()))},n.closeAllTabs=function(){var e=this;this._tab_wraper.querySelectorAll("button.nav-link").forEach((function(n){var i=t.getTabId(n);e._canRemoveTabById(i)&&e._removeTabById(i)}));var n=this._tab_wraper.lastChild;n instanceof HTMLElement&&e.activeTabById(t.getTabId(n))},t}();return P.instances=[],P}));
//# sourceMappingURL=bootstrap-quicktab.min.js.map
