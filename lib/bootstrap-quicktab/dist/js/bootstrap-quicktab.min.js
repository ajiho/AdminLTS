/*!
 * bootstrap-quicktab v1.0.0 (https://gitee.com/ajiho/bootstrap-quicktab)
 * Copyright 2021-2023 ajiho
 * license MIT (https://gitee.com/ajiho/bootstrap-quicktab/blob/master/LICENSE)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Quicktab=e()}(this,(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a={},r={get exports(){return a},set exports(t){a=t}},o={};n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var a=t[i]<<16|t[i+1]<<8|t[i+2],r=0;r<4;r++)8*i+6*r<=8*t.length?e.push(n.charAt(a>>>6*(3-r)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,a=0;i<t.length;a=++i%4)0!=a&&e.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(t.charAt(i))>>>6-2*a);return e}},{get exports(){return o},set exports(t){o=t}}.exports=i;var s={utf8:{stringToBytes:function(t){return s.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(s.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},c=s,l=function(t){return null!=t&&(u(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&u(t.slice(0,0))}(t)||!!t._isBuffer)};function u(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}!function(){var t=o,e=c.utf8,n=l,i=c.bin,a=function(r,o){r.constructor==String?r=o&&"binary"===o.encoding?i.stringToBytes(r):e.stringToBytes(r):n(r)?r=Array.prototype.slice.call(r,0):Array.isArray(r)||r.constructor===Uint8Array||(r=r.toString());for(var s=t.bytesToWords(r),c=8*r.length,l=1732584193,u=-271733879,b=-1732584194,d=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var f=a._ff,_=a._gg,p=a._hh,v=a._ii;for(h=0;h<s.length;h+=16){var m=l,g=u,T=b,y=d;l=f(l,u,b,d,s[h+0],7,-680876936),d=f(d,l,u,b,s[h+1],12,-389564586),b=f(b,d,l,u,s[h+2],17,606105819),u=f(u,b,d,l,s[h+3],22,-1044525330),l=f(l,u,b,d,s[h+4],7,-176418897),d=f(d,l,u,b,s[h+5],12,1200080426),b=f(b,d,l,u,s[h+6],17,-1473231341),u=f(u,b,d,l,s[h+7],22,-45705983),l=f(l,u,b,d,s[h+8],7,1770035416),d=f(d,l,u,b,s[h+9],12,-1958414417),b=f(b,d,l,u,s[h+10],17,-42063),u=f(u,b,d,l,s[h+11],22,-1990404162),l=f(l,u,b,d,s[h+12],7,1804603682),d=f(d,l,u,b,s[h+13],12,-40341101),b=f(b,d,l,u,s[h+14],17,-1502002290),l=_(l,u=f(u,b,d,l,s[h+15],22,1236535329),b,d,s[h+1],5,-165796510),d=_(d,l,u,b,s[h+6],9,-1069501632),b=_(b,d,l,u,s[h+11],14,643717713),u=_(u,b,d,l,s[h+0],20,-373897302),l=_(l,u,b,d,s[h+5],5,-701558691),d=_(d,l,u,b,s[h+10],9,38016083),b=_(b,d,l,u,s[h+15],14,-660478335),u=_(u,b,d,l,s[h+4],20,-405537848),l=_(l,u,b,d,s[h+9],5,568446438),d=_(d,l,u,b,s[h+14],9,-1019803690),b=_(b,d,l,u,s[h+3],14,-187363961),u=_(u,b,d,l,s[h+8],20,1163531501),l=_(l,u,b,d,s[h+13],5,-1444681467),d=_(d,l,u,b,s[h+2],9,-51403784),b=_(b,d,l,u,s[h+7],14,1735328473),l=p(l,u=_(u,b,d,l,s[h+12],20,-1926607734),b,d,s[h+5],4,-378558),d=p(d,l,u,b,s[h+8],11,-2022574463),b=p(b,d,l,u,s[h+11],16,1839030562),u=p(u,b,d,l,s[h+14],23,-35309556),l=p(l,u,b,d,s[h+1],4,-1530992060),d=p(d,l,u,b,s[h+4],11,1272893353),b=p(b,d,l,u,s[h+7],16,-155497632),u=p(u,b,d,l,s[h+10],23,-1094730640),l=p(l,u,b,d,s[h+13],4,681279174),d=p(d,l,u,b,s[h+0],11,-358537222),b=p(b,d,l,u,s[h+3],16,-722521979),u=p(u,b,d,l,s[h+6],23,76029189),l=p(l,u,b,d,s[h+9],4,-640364487),d=p(d,l,u,b,s[h+12],11,-421815835),b=p(b,d,l,u,s[h+15],16,530742520),l=v(l,u=p(u,b,d,l,s[h+2],23,-995338651),b,d,s[h+0],6,-198630844),d=v(d,l,u,b,s[h+7],10,1126891415),b=v(b,d,l,u,s[h+14],15,-1416354905),u=v(u,b,d,l,s[h+5],21,-57434055),l=v(l,u,b,d,s[h+12],6,1700485571),d=v(d,l,u,b,s[h+3],10,-1894986606),b=v(b,d,l,u,s[h+10],15,-1051523),u=v(u,b,d,l,s[h+1],21,-2054922799),l=v(l,u,b,d,s[h+8],6,1873313359),d=v(d,l,u,b,s[h+15],10,-30611744),b=v(b,d,l,u,s[h+6],15,-1560198380),u=v(u,b,d,l,s[h+13],21,1309151649),l=v(l,u,b,d,s[h+4],6,-145523070),d=v(d,l,u,b,s[h+11],10,-1120210379),b=v(b,d,l,u,s[h+2],15,718787259),u=v(u,b,d,l,s[h+9],21,-343485551),l=l+m>>>0,u=u+g>>>0,b=b+T>>>0,d=d+y>>>0}return t.endian([l,u,b,d])};a._ff=function(t,e,n,i,a,r,o){var s=t+(e&n|~e&i)+(a>>>0)+o;return(s<<r|s>>>32-r)+e},a._gg=function(t,e,n,i,a,r,o){var s=t+(e&i|n&~i)+(a>>>0)+o;return(s<<r|s>>>32-r)+e},a._hh=function(t,e,n,i,a,r,o){var s=t+(e^n^i)+(a>>>0)+o;return(s<<r|s>>>32-r)+e},a._ii=function(t,e,n,i,a,r,o){var s=t+(n^(e|~i))+(a>>>0)+o;return(s<<r|s>>>32-r)+e},a._blocksize=16,a._digestsize=16,r.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}();var b=function(){function t(t){void 0===t&&(t=1),this.type=t}var e=t.prototype;return e.set=function(t,e){this.remove(t),1===this.type?sessionStorage.setItem(t,JSON.stringify(e)):2===this.type&&localStorage.setItem(t,JSON.stringify(e))},e.get=function(t){return 1===this.type?JSON.parse(sessionStorage.getItem(t)):2===this.type?JSON.parse(localStorage.getItem(t)):void 0},e.remove=function(t){1===this.type?sessionStorage.removeItem(t):2===this.type&&localStorage.removeItem(t)},t.removeBoth=function(t){sessionStorage.removeItem(t),localStorage.removeItem(t)},t}(),d=function(t,e,n,i,a){t.addEventListener(e,(function(t){for(var e=t.target,r=t.currentTarget;e!==r&&e instanceof HTMLElement;){if(e.matches(n)){i.call(e,t);break}if(e.matches(a))break;e=e.parentNode}}),!1)},h=function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},f=function(t,e){var n;return void 0===e&&(e=500),function(){for(var i=this,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}},_=function(t){var e=null;try{e=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(t){}return null!==e},p=function(t){return"string"==typeof t&&t.constructor===String},v="data-tab-id",m="data-tab-url",g="quicktab",T="scroll_area",y="qt-fullscreen",I="outing",w="qt-close",x="pen",B="more-menu-pen",A="fullscreen",S="iconbtn",E='\n        \x3c!-- 全屏实现 --\x3e\n        <li class="nav-item  border-start">\n            <button class="nav-link '+S+" "+A+'" >\n                <i class="bi bi-arrows-fullscreen"></i>\n            </button>\n        </li>\n',L='\n            <ul class="nav nav-pills border flex-nowrap">\n                \x3c!--                左边的箭头--\x3e\n                <li class="nav-item border-end" >\n                    <button class="nav-link '+S+' move-left-btn" ><i class="bi bi-caret-left"></i></button>\n                </li>\n                \x3c!--                中间滚动的区域--\x3e\n                <li class="nav-item flex-grow-1">\n                    <div class="'+T+'"></div>\n                </li>\n                \x3c!--                右边的箭头--\x3e\n                <li class="nav-item  border-start" >\n                    <button class="nav-link '+S+' move-right-btn" >\n                        <i class="bi bi-caret-right"></i>\n                    </button>\n                </li>\n                \x3c!--                操作区域--\x3e\n                <li class="nav-item  border-start dropdown" >\n                    <button class="nav-link '+S+'" data-bs-toggle="dropdown" >\n                        <i class="bi bi-caret-down"></i>\n                    </button>\n                    <ul class="dropdown-menu dropdown-menu-end">\n                        <li>\n                            <button class="dropdown-item rollback-current" type="button">回到当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item refresh-current" type="button">刷新当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-current" type="button">关闭当前</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-other" type="button">关闭其他</button>\n                        </li>\n                        <li>\n                            <button class="dropdown-item close-all" type="button">关闭全部</button>\n                        </li>\n                    </ul>\n                </li>\n                {{tab_fullscreen}}\n            </ul>\n                \n            \x3c!-- 面板容器 --\x3e\n            <div class="flex-grow-1 border-top-0 border">\n            </div>\n',k='<button class="nav-link flex-shrink-0 border-end position-relative" type="button" '+m+'="{{url}}"  '+v+'="{{id}}">{{title}}</button>',C='<button class="nav-link flex-shrink-0  border-end position-relative" type="button" '+m+'="{{url}}"  '+v+'="{{id}}">{{title}}<i class="bi bi-x '+w+'"></i></button>',M='\n     \x3c!--loading--\x3e\n     <div class="position-absolute start-0 end-0 top-0 bottom-0 bg-body-tertiary show d-flex align-items-center justify-content-center">\n         <div class="spinner-border text-body-tertiary" role="status">\n         <span class="visually-hidden">Loading...</span>\n         </div>\n    </div>\n',H='\n\x3c!--每个面板--\x3e\n<div class="h-100 w-100 position-relative" '+v+'="{{id}}">\n    '+M+'    \n    <iframe src="{{url}}" class="d-block w-100 h-100"></iframe>\n</div>\n',F='\n            <div class="list-group '+g+"-contextmenu "+g+'-contextmenu-{{id}} shadow-sm">\n                <button type="button" class="list-group-item list-group-item-action refresh">刷新</button>\n                <button type="button" class="list-group-item list-group-item-action close">关闭</button>\n                <button type="button" class="list-group-item list-group-item-action close-other">关闭其它</button>\n            </div>',q={selector:null,minHeight:"",height:"",width:"",cache:null,tabs:[],fullscreen:{enable:!1,fullscreen:null,exitFullscreen:null},enableContextmenu:!1,enableMouseWheelToggleTab:!1,onTabActivated:null,onTabLoaded:null,onTabMaskTransitionend:null,onInit:null,onTabClick:null},P={title:"",url:"",id:null,close:!0},O=function(){function t(e){this._option=Object.assign({},q,e),this._tab_id=a(this._option.selector),this._tab_cache_key=g+"-"+this._tab_id,this._buildStyle(),this.storage=this._initCache(),this._init(),t.instances[this._tab_id]=this,this._option.onInit&&this._option.onInit({target:this})}var n=t.prototype;return n._initCache=function(){return"localStorage"===this._option.cache?new b(2):"sessionStorage"===this._option.cache?new b(1):null},t.getTabId=function(t){return t.getAttribute(v)},t.getTabUrl=function(t){return t.getAttribute(m)},t.canAccessIFrame=function(t){return _(t)},t.getTabIdByUrl=function(t){return a(t)},t.get=function(e){return t.instances[a(e)]},n._buildStyle=function(){if(!(document.querySelector('style[namespace="'+g+'"]')instanceof HTMLStyleElement)){var t=document.createElement("style");t.setAttribute("namespace",g),t.textContent="\n                ."+g+"{\n                    height:222px;\n                    background-color: var(--bs-body-bg);\n                    display: flex;\n                    flex-direction: column;\n                }\n            \n                /*  面板移除样式 */\n                ."+g+" ."+I+" {\n                    position: absolute !important;\n                    transform: translateX(-200%);\n                }\n            \n                /*去除所有的圆角*/\n                ."+g+" .nav-pills .nav-link {\n                    border-radius: 0;\n                }\n            \n                ."+g+" .nav-pills .nav-link ."+w+" {\n                    position: absolute;\n                    top: 0;\n                    right: 0;\n                    display: none;\n                    cursor: pointer;\n                }\n            \n                ."+g+" .nav-pills .nav-link ."+w+":hover {\n                    color: #f00;\n                }\n            \n                ."+g+" .nav-pills .nav-link:hover ."+w+" {\n                    display: inline;\n                }\n                \n                \n                ."+g+" li.flex-grow-1 {\n                    width:0;\n                }\n                /*必须添加该样式否则滚动条会超出*/\n                ."+g+" div.flex-grow-1 {\n                    overflow: hidden;\n                }\n                \n         \n                ."+g+" li.flex-grow-1 ."+T+"{\n                    position: relative;\n                    display:flex;\n                    flex-wrap: nowrap;\n                    align-items: center;\n                    scroll-behavior:smooth;\n                    overflow: scroll;\n                    scrollbar-width: none;\n                    -ms-overflow-style: none;\n                }\n                \n                  /* 谷歌浏览器 */\n                ."+g+" li.flex-grow-1 ."+T+"::-webkit-scrollbar {\n                     display: none;\n                }\n                \n                /*中间的tab设置一个最大的宽度超出部分显示省略号*/\n                ."+g+" li.flex-grow-1 .nav-link {\n                    min-width: 0;\n                    max-width: 160px;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                    overflow: hidden;\n                }\n            \n                /*给图标按钮设置一个固定宽度，否则滚动到指定tab位置时不精确*/\n                ."+g+" ."+S+"{\n                    width: 48px;\n                }\n            \n                ."+g+" .show {\n                    opacity: 1;\n                }\n            \n                ."+g+" .hide {\n                    opacity: 0;\n                    transition: opacity 800ms;\n                }\n            \n                ."+g+"."+y+" {\n                    height: 100% !important;\n                    width: 100% !important;\n                    position: fixed !important;\n                    z-index: 99999 !important;\n                    top: 0 !important;\n                    bottom: 0 !important;\n                    left: 0 !important;\n                    right: 0 !important;\n                }\n                \n                ."+g+"-contextmenu {\n                  display: none;\n                  position: fixed;\n                  width: 100px;\n                  background: #fff;\n                  z-index: 999999 !important;\n                }\n                \n                \n                ."+g+"."+x+" iframe {\n                  pointer-events: none;\n                }\n                \n                ."+g+"."+B+" iframe {\n                  pointer-events: none;\n                }\n            ",document.head.appendChild(t)}},n._init=function(){if(this._tab_container=document.querySelector(this._option.selector),!(this._tab_container instanceof HTMLElement))throw new Error("selector '"+this._option.selector+"' invalid");if(this._tab_container.classList.contains(g))throw new Error("The provided selector '"+this._option.selector+"' has been initialized");this._dataAttrAssign(),this._setContainerWH(),this._tab_container.classList.add(g),this._tab_container.insertAdjacentHTML("beforeEnd",this._formatMainHtmlStr()),this._tab_wraper=this._tab_container.querySelector("li.flex-grow-1 > ."+T),this._tab_pane_wraper=this._tab_container.querySelector("div.flex-grow-1"),!0===this._option.enableContextmenu&&this._buildContextmenu(),this._addEventListener(),this._restoreTabs()},n.addTab=function(t){if(t.id=a(t.url),t=Object.assign({},P,t),null===this.getTabById(t.id)){var e=this._getFormatTabStr(t);this._tab_wraper.insertAdjacentHTML("beforeEnd",e);var n=this._formatString(H,t);this._tab_pane_wraper.insertAdjacentHTML("beforeEnd",n),this._addTabToCache(t)}this.activeTabById(t.id)},n.activeTabById=function(n){var i=this;i._activeCacheTabById(n);var a=i.getActiveTab();a instanceof HTMLElement&&a.classList.remove("active"),this.getTabById(n).classList.add("active");for(var r,o=e(i._tab_pane_wraper.children);!(r=o()).done;){r.value.classList.add(I)}if(i.getTabPaneById(n)instanceof HTMLElement||i._addTabPaneById(n),i._addIframeLoadEventById(n),i.getTabPaneById(n).classList.remove(I),i.scrollToTabById(n),i._option.onTabActivated){var s=i.getTabById(n),c=t.getTabId(s),l=t.getTabUrl(s),u=i.getTabPaneById(n),b={el:i.getIFrameById(n),canAccess:t.canAccessIFrame(i.getIFrameById(n))};i._option.onTabActivated({target:i,tabEl:s,tabId:c,tabUrl:l,tabPaneEl:u,tabIFrame:b})}},n.scrollToTabById=function(t){var e=this.getTabById(t);this._tab_wraper.scrollLeft=e.offsetLeft-this._tab_wraper.offsetWidth/2+e.offsetWidth/2},n.getTabById=function(t){return this._tab_wraper.querySelector('[data-tab-id="'+t+'"]')},n.getTabs=function(){return this._tab_wraper.querySelectorAll("button.nav-link")},n.getActiveTab=function(){return this._tab_wraper.querySelector("button.nav-link.active")},n.getIFrameById=function(t){return this.getTabPaneById(t).querySelector("iframe")},n.getTabPaneById=function(t){return this._tab_pane_wraper.querySelector('[data-tab-id="'+t+'"]')},n._formatString=function(t,e){return t.replace(/{{(\w+)}}/g,(function(t,n){return e[n]}))},n._buildContextmenu=function(){var t=this._formatString(F,{id:this._tab_id});document.body.insertAdjacentHTML("beforeEnd",t),this._tab_contextmenu_wraper=document.querySelector("."+g+"-contextmenu-"+this._tab_id)},n._addEventListener=function(){var e=this;window.addEventListener("resize",f((function(){!0===e._option.enableContextmenu&&e._closeTabsContextmenu(),e.scrollToActiveTab(),e._moreMenuDropdownHide()}),150)),d(e._tab_wraper,"click","button.nav-link",(function(){if(e._option.onTabClick){var n=this,i=t.getTabId(n),a=t.getTabUrl(n);e._option.onTabClick({target:e,tabEl:n,tabId:i,tabUrl:a})}e.activeTabById(t.getTabId(this))}),"."+w),d(e._tab_wraper,"click","."+w,(function(){e.closeTabById(t.getTabId(this.parentNode))})),d(e._tab_container,"click","."+A,(function(){this.querySelector(".bi-arrows-fullscreen")instanceof HTMLElement?e.fullscreen():e.exitFullscreen()})),d(e._tab_container,"click",".move-left-btn",(function(){e.leftScroll()})),d(e._tab_container,"click",".move-right-btn",(function(){e.rightScroll()})),d(e._tab_container,"click",".rollback-current",(function(){e.scrollToActiveTab()})),d(e._tab_container,"click",".refresh-current",(function(){e.refreshActiveTab()})),e._moreMenuEvent(),d(document.body,"click","[data-qt-tab][data-qt-target]",(function(t){if(t.preventDefault(),this.getAttribute("data-qt-target")===e._option.selector){var n=Object.assign({},P,JSON.parse(this.getAttribute("data-qt-tab")));e.addTab(n)}})),d(e._tab_container,"click",".close-current",(function(){e.closeActiveTab()})),d(e._tab_container,"click",".close-other",(function(){e.closeAlLTabsExceptActiveTab()})),d(e._tab_container,"click",".close-all",(function(){e.closeAllTabs()})),!0===e._option.enableContextmenu&&e._addContextmenuEventListener(),!0===e._option.enableMouseWheelToggleTab&&e._registerMouseWheelToggleTabEvent()},n._addContextmenuEventListener=function(){var e=this;d(e._tab_wraper,"contextmenu","button.nav-link",(function(n){n.preventDefault();var i=t.getTabId(this);e._canRemoveTabById(i)?e._tab_contextmenu_wraper.querySelector(".close").style.display="block":e._tab_contextmenu_wraper.querySelector(".close").style.display="none",e._tab_contextmenu_wraper.style.top=n.clientY+"px",e._tab_contextmenu_wraper.style.left=n.clientX+"px",e._tab_contextmenu_wraper.style.display="block",e._tab_container.classList.add(x),bootstrap.Dropdown.getOrCreateInstance(e._tab_container.querySelector("ul>li.dropdown>button")).hide(),e._tab_contextmenu_wraper.querySelectorAll("button.list-group-item").forEach((function(t){t.setAttribute(v,i)}))})),document.addEventListener("click",(function(){e._closeTabsContextmenu()})),d(e._tab_container,"contextmenu","div.flex-grow-1",(function(t){t.preventDefault(),e._closeTabsContextmenu(),e._moreMenuDropdownHide()})),d(e._tab_contextmenu_wraper,"click",".refresh",(function(t){t.preventDefault(),e.refreshTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),d(e._tab_contextmenu_wraper,"contextmenu",".refresh",(function(t){t.preventDefault(),e.refreshTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),d(e._tab_contextmenu_wraper,"click",".close",(function(t){t.preventDefault(),e.closeTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),d(e._tab_contextmenu_wraper,"contextmenu",".close",(function(t){t.preventDefault(),e.closeTabById(this.getAttribute(v)),e._closeTabsContextmenu()})),d(e._tab_contextmenu_wraper,"click",".close-other",(function(n){n.preventDefault(),e.closeAlLTabsExceptById(t.getTabId(this)),e._closeTabsContextmenu()})),d(e._tab_contextmenu_wraper,"contextmenu",".close-other",(function(n){n.preventDefault(),e.closeAlLTabsExceptById(t.getTabId(this)),e._closeTabsContextmenu()}))},n._restoreTabs=function(){if(this._isCache()){var t=this._getCacheTabs();0!==t.length?this._restoreTabsHandle(t,this._getActiveTabFromCache().id):this._restoreTabsHandle(this._option.tabs,null,!0)}else b.removeBoth(this._tab_cache_key),this._restoreTabsHandle(this._option.tabs)},n.closeTabById=function(e){var n=this.getTabById(e);if(n.classList.contains("active")){var i=null;n.nextElementSibling instanceof HTMLElement?i=t.getTabId(n.nextElementSibling):n.previousElementSibling instanceof HTMLElement&&(i=t.getTabId(n.previousElementSibling)),this._removeTabById(e),i&&this.activeTabById(i)}else this._removeTabById(e)},n._removeTabById=function(t){this.getTabById(t).remove();var e=this.getTabPaneById(t);e instanceof HTMLElement&&e.remove(),this._removeCacheTabById(t)},n._addTabToCache=function(t){if(this._isCache()){var e=this._getCacheTabs();t.active=!1,e.push(t),this.storage.set(this._tab_cache_key,e)}},n._getCacheTabs=function(){if(this._isCache()){var t=this.storage.get(this._tab_cache_key);return null===t?[]:t}},n._isCache=function(){return null!==this._option.cache},n._restoreTabsHandle=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var r=this,o=t;if(Array.isArray(o)&&0!==o.length){for(var s,c=e(o);!(s=c()).done;){var l=s.value;Object.prototype.hasOwnProperty.call(l,"id")||(l.id=a(l.url))}var u=document.createDocumentFragment();o.forEach((function(t){!0===i&&r._addTabToCache(t);var e=r._getFormatTabStr(t);u.appendChild(h(e))})),r._tab_wraper.appendChild(u),null!==n?r.activeTabById(n):r.activeTabById(o.at(-1).id)}},n._getFormatTabStr=function(t){return!0===t.close?this._formatString(C,t):this._formatString(k,t)},n._getActiveTabFromCache=function(){if(this._isCache()){var t=null;return this._getCacheTabs().forEach((function(e){Object.prototype.hasOwnProperty.call(e,"active")&&!0===e.active&&(t=e)})),t}},n._activeCacheTabById=function(t){if(this._isCache()){var e=this._getCacheTabs();e.forEach((function(e){e.active=e.id===t})),this.storage.set(this._tab_cache_key,e)}},n._addTabPaneById=function(e,n){void 0===n&&(n=!0);var i=this.getTabById(e),a={id:t.getTabId(i),url:t.getTabUrl(i)},r=h(this._formatString(H,a));!1===n&&r.classList.add(I),this._tab_pane_wraper.appendChild(r)},n._removeCacheTabById=function(t){if(this._isCache()){var e=this._getCacheTabs();e.forEach((function(n,i){n.id===t&&e.splice(i,1)})),this.storage.set(this._tab_cache_key,e)}},n.refreshTabById=function(e){if(this.getTabPaneById(e)instanceof HTMLElement){this._addTabMask(this.getTabPaneById(e));var n=this.getIFrameById(e),i=n.getAttribute("src");t.canAccessIFrame(n)?n.contentWindow.location.reload():n.setAttribute("src",i)}else this._addTabPaneById(e,!1),this._addIframeLoadEventById(e)},n._canRemoveTabById=function(t){return this.getTabById(t).querySelector("."+w)instanceof HTMLElement},n._closeTabsContextmenu=function(){this._tab_contextmenu_wraper.style.display="none",this._tab_container.classList.remove(x)},n._moreMenuEvent=function(){var t=this,e=t._tab_container.querySelector("ul>li.dropdown>button");e.addEventListener("show.bs.dropdown",(function(){t._tab_container.classList.add(B)})),e.addEventListener("hide.bs.dropdown",(function(){t._tab_container.classList.remove(B)}))},n._moreMenuDropdownHide=function(){bootstrap.Dropdown.getOrCreateInstance(this._tab_container.querySelector("ul>li.dropdown>button")).hide()},n.scrollToActiveTab=function(){var e=this.getActiveTab();e instanceof HTMLElement&&this.scrollToTabById(t.getTabId(e))},n.refreshActiveTab=function(){this.refreshTabById(t.getTabId(this.getActiveTab()))},n.setTabPaneIFrame=function(e){var n=[];this._getIFrames().forEach((function(e){var i={};i.iframe=e,t.canAccessIFrame(e)?(i.canAccessIFrame=!0,i.iframeWindow=e.contentWindow):(i.canAccessIFrame=!1,i.iframeWindow=null),n.push(i)})),e(n)},n._getIFrames=function(){return this._tab_pane_wraper.querySelectorAll("iframe")},n.fullscreen=function(){!0===this._option.fullscreen.enable&&(this._tab_container.querySelector("."+A).innerHTML='<i class="bi bi-fullscreen-exit"></i>',this._option.fullscreen.fullscreen?this._option.fullscreen.fullscreen(this):(document.documentElement.style.overflow="hidden",this._tab_container.classList.add(y)))},n.exitFullscreen=function(){!0===this._option.fullscreen.enable&&(this._tab_container.querySelector("."+A).innerHTML='<i class="bi bi-arrows-fullscreen"></i>',this._option.fullscreen.exitFullscreen?this._option.fullscreen.exitFullscreen(this):(document.documentElement.style.overflow="auto",this._tab_container.classList.remove(y)),this.scrollToActiveTab())},n.leftScroll=function(){this._tab_wraper.scrollLeft=this._tab_wraper.scrollLeft-this._tab_wraper.offsetWidth},n.rightScroll=function(){this._tab_wraper.scrollLeft=this._tab_wraper.scrollLeft+this._tab_wraper.offsetWidth},n._dataAttrAssign=function(){var t=this._tab_container.getAttribute("data-qt-tabs");null!==t&&(this._option=Object.assign({},this._option,{tabs:JSON.parse(t)}))},n._addIframeLoadEventById=function(e){var n=this,i=n.getIFrameById(e);i.onload=function(){if(t.canAccessIFrame(i)&&(i.contentWindow.onunload=function(){n._addTabMask(i.parentNode)}),n._option.onTabLoaded){var a=n.getTabById(e),r=t.getTabId(a),o=t.getTabUrl(a),s=n.getTabPaneById(e),c={el:n.getIFrameById(e),canAccess:t.canAccessIFrame(n.getIFrameById(e))};n._option.onTabLoaded({target:n,tabEl:a,tabId:r,tabUrl:o,tabPaneEl:s,tabIFrame:c})}var l=n.getTabPaneById(e).querySelector("div");l instanceof HTMLElement&&(l.classList.replace("show","hide"),l.addEventListener("transitionend",(function(){if(this.remove(),n._option.onTabMaskTransitionend){var i=n.getTabById(e),a=t.getTabId(i),r=t.getTabUrl(i),o=n.getTabPaneById(e),s={el:n.getIFrameById(e),canAccess:t.canAccessIFrame(n.getIFrameById(e))};n._option.onTabMaskTransitionend({target:n,tabEl:i,tabId:a,tabUrl:r,tabPaneEl:o,tabIFrame:s})}})))}},n._formatMainHtmlStr=function(){return!0===this._option.fullscreen.enable?this._formatString(L,{tab_fullscreen:E}):this._formatString(L,{tab_fullscreen:""})},n._setContainerWH=function(){p(this._option.height)&&0!==this._option.height.trim().length&&this._tab_container.style.setProperty("height",this._option.height,"important"),p(this._option.width)&&0!==this._option.width.trim().length&&this._tab_container.style.setProperty("width",this._option.width,"important"),p(this._option.minHeight)&&0!==this._option.minHeight.trim().length&&this._tab_container.style.setProperty("min-height",this._option.minHeight,"important")},n._registerMouseWheelToggleTabEvent=function(){var e=this;this._tab_wraper.addEventListener("wheel",f((function(n){n.preventDefault(),n.stopPropagation();var i=e.getActiveTab();e._closeTabsContextmenu();var a=n.deltaY;if(a<0){var r=i.previousElementSibling;r instanceof HTMLElement&&e.activeTabById(t.getTabId(r))}else if(a>0){var o=i.nextElementSibling;o instanceof HTMLElement&&e.activeTabById(t.getTabId(o))}}),100))},n.closeActiveTab=function(){var e=t.getTabId(this.getActiveTab());this._canRemoveTabById(e)&&this.closeTabById(e)},n.closeAlLTabsExceptById=function(e){var n=this;this._tab_wraper.querySelectorAll("button.nav-link").forEach((function(i){var a=t.getTabId(i);a!==e&&n._canRemoveTabById(a)&&n.closeTabById(a)}))},n.closeAlLTabsExceptActiveTab=function(){var e=this.getActiveTab();e instanceof HTMLElement&&this.closeAlLTabsExceptById(t.getTabId(e))},n.closeAllTabs=function(){var e=this;this._tab_wraper.querySelectorAll("button.nav-link").forEach((function(n){var i=t.getTabId(n);e._canRemoveTabById(i)&&e._removeTabById(i)}));var n=this._tab_wraper.lastChild;n instanceof HTMLElement&&e.activeTabById(t.getTabId(n))},n._addTabMask=function(t){var e=t.querySelector("div");e instanceof HTMLElement&&e.remove(),t.insertAdjacentHTML("beforeEnd",M)},t}();return O.instances=[],O}));
//# sourceMappingURL=bootstrap-quicktab.min.js.map
